Darstellung vom Graphics Reactor	"Hallo

Wenn ich den Graphics Reactor im iteraplan 5.3 starte, so habe ich einen grossen Leerbereich, bis Graphics Reactor Bereich kommt.

Siehe Dokument. Unterschied 5.2 vs. 5.3



Was ging da schief?"		Fault	iteraplan Support	19/Oct/16 10:13 AM	05/Dec/16 7:00 AM														"19/Oct/16 10:13 AM;alfred.studer@emmi.com;

[^Graphics Reactor.docx] _(193 kB)_"	"19/Oct/16 10:24 AM;cst;Sehr geehrter Herr Studer,

vielen Dank für Ihre Anfrage.

Hier wird der Graphics Reactor nicht geladen, kriegen Sie eine Error-Meldung in der Browser-Konsole? 
Wird der Graphics Reactor nach dem leer bereich komplett geladen, oder wird nur der Titel am Ende der Seite angezeigt?

Viele Grüße,

Christoph Stangl - iteraplan Support 


"	"19/Oct/16 10:48 AM;alfred.studer@emmi.com;Unterdessen ist die Lücke verschwunden. Aber wenn ich ein neuen Ordner oder eine Datei hochlade, erscheinen diese nicht im Graphics Reactor.
Die Rechte des Graphics Reactor und REST habe ich mir gegeben. An diesem liegt es nicht.
Gibt es eine bessere Dokumentation, als https://www.iteraplan.de/doc/display/iteraplan53/Graphics+Reactor.

Im Dokument, die Darstellung der Dateien und Ordner

[^Graphics Reactor - Ordner-Dateien.docx] _(137 kB)_"	"19/Oct/16 10:54 AM;alfred.studer@emmi.com;Fehlermeldung im Log
[ERROR] 19-Okt-2016 10:22:31 [iteraplan.presentation.NCLogServlet] Error: An exception occured: [$injector:undef] Provider 'headerScope' must return a value from $get factory method.
http://errors.angularjs.org/1.5.3/$injector/undef?p0=headerScope (caused by ""<div class=""ng-scope"" ng-view="""">"") @[2016-10-19 10:22:31] -- Logged from: http://iteraplantest:8080/emmieam/client/#/reactor?locale=en"	"19/Oct/16 10:59 AM;cst;Hallo Herr Studer,

vielen Dank für Ihre Antwort.

Würden Sie bitte in der Datenbank prüfen, ob das Update Skript sauber durchgelaufen ist. 
Hier sollte die Tabelle ""REACTOR_SCRIPT_CONFIG"" vorhanden sein, ist diese nicht angelegt, können keine Daten gespeichert werden.

Dies lösen Sie, indem Sie das Skript zum Datenbankupdate auf Version 5.3 durchführen. 

Viele Grüße,

Christoph Stangl - iteraplan Support 
"	"19/Oct/16 11:05 AM;alfred.studer@emmi.com;Die Tabelle  ""REACTOR_SCRIPT_CONFIG"" ist vorhanden
"	"19/Oct/16 11:18 AM;cst;Hallo Herr Studer,

würden Sie mir bitte zur weiteren Prüfung die 

Die catalina.out und localhost.log Logdateien Ihrer Tomcat-Installation aus dem Zeitraum, in dem der Fehler aufgetreten ist und 
die iteraplan Logdatei bzw. Dateien aus dem Zeitraum, in dem der Fehler aufgetreten ist. Diese Dateien tragen üblicherweise den Namen iteraplan-[version].log (für den aktuellen Tag) bzw. iteraplan-[version].log.[TIMESTAMP] für vergangene Tage. Der Ablageort dieser Logdateien wurde bei der iteraplan-Installation angegeben und kann bei Bedarf in der Datei log4j.properties nachgesehen werden.

Viele Grüße,

Christoph Stangl - iteraplan Support 
"	"19/Oct/16 11:18 AM;alfred.studer@emmi.com;Weiss nicht, ob dies einen Zusammenhang hat, aber anbei noch die nächsten Error Meldungen

[ERROR] 19-Okt-2016 11:11:46 [iteraplan.presentation.NCLogServlet] Error: An exception occured: [$rootScope:inprog] $digest already in progress
http://errors.angularjs.org/1.5.3/$rootScope/inprog?p0=%24digest @[2016-10-19 11:11:46] -- Logged from: http://iteraplantest:8080/emmieam/client/#/list/InformationSystem?locale=en
[ERROR] 19-Okt-2016 11:11:50 [iteraplan.presentation.NCLogServlet] Error: An exception occured: [$rootScope:inprog] $digest already in progress
http://errors.angularjs.org/1.5.3/$rootScope/inprog?p0=%24digest @[2016-10-19 11:11:50] -- Logged from: http://iteraplantest:8080/emmieam/client/#/list/InformationSystem?locale=en
[ERROR] 19-Okt-2016 11:11:50 [iteraplan.presentation.NCLogServlet] Error: An exception occured: [$rootScope:inprog] $digest already in progress
http://errors.angularjs.org/1.5.3/$rootScope/inprog?p0=%24digest @[2016-10-19 11:11:50] -- Logged from: http://iteraplantest:8080/emmieam/client/#/list/InformationSystem?locale=en
[ERROR] 19-Okt-2016 11:11:50 [iteraplan.presentation.NCLogServlet] Error: An exception occured: [$rootScope:inprog] $digest already in progress
http://errors.angularjs.org/1.5.3/$rootScope/inprog?p0=%24digest @[2016-10-19 11:11:50] -- Logged from: http://iteraplantest:8080/emmieam/client/#/list/InformationSystem?locale=en
[ERROR] 19-Okt-2016 11:11:50 [iteraplan.presentation.NCLogServlet] Error: An exception occured: [$rootScope:inprog] $digest already in progress
http://errors.angularjs.org/1.5.3/$rootScope/inprog?p0=%24digest @[2016-10-19 11:11:50] -- Logged from: http://iteraplantest:8080/emmieam/client/#/list/InformationSystem?locale=en"	"19/Oct/16 11:20 AM;cst;Hallo Herr Studer,

würden Sie mir bitte zur weiteren Prüfung die 

Die catalina.out und localhost.log Logdateien Ihrer Tomcat-Installation aus dem Zeitraum, in dem der Fehler aufgetreten ist und 
die iteraplan Logdatei bzw. Dateien aus dem Zeitraum, in dem der Fehler aufgetreten ist. Diese Dateien tragen üblicherweise den Namen iteraplan-[version].log (für den aktuellen Tag) bzw. iteraplan-[version].log.[TIMESTAMP] für vergangene Tage. Der Ablageort dieser Logdateien wurde bei der iteraplan-Installation angegeben und kann bei Bedarf in der Datei log4j.properties nachgesehen werden.

Viele Grüße,

Christoph Stangl - iteraplan Support 
"	19/Oct/16 11:26 AM;alfred.studer@emmi.com;Meinen Sie die catalina.2016-10-19.log und die localhost.2016-10-19.log	19/Oct/16 11:27 AM;cst;Genau die :-) 	"19/Oct/16 11:29 AM;alfred.studer@emmi.com;Anbei die gewünschten Dateien

[^catalina.2016-10-19.log] _(111 kB)_

[^iteraplan-5.3.0.log] _(58 kB)_

[^localhost.2016-10-19.log] _(6 kB)_"	19/Oct/16 12:19 PM;alfred.studer@emmi.com;kann das sein, dass es eine 1/2 bis eine Stunde geht, bis die Dateien im iteraplan sichtbar ist	"19/Oct/16 2:24 PM;cst;Hallo Herr Studer,

eigentlich ist der Graphics Reactor ziemlich flott geladen, ich habe einen Verdacht woher das Verhalten kommen kann.
Würden Sie bitte im Ordner ""[TOMCAT]\lib"" nachschauen, welcher ""ojdbc"" Treiber bei Ihnen im Einsatz ist. 

Er meldet im LOG das es hier Probleme mit diesem gibt. 

Viele Grüße,

Christoph Stangl - iteraplan Support"	"19/Oct/16 2:28 PM;alfred.studer@emmi.com;Der Treiber ist der ojdbc6
"	"19/Oct/16 2:50 PM;cst;Ist auch ein ojdbc Treiber unter ""[TOMCAT]\webapps\[iteraplaninstanz]]WEB-INF\lib"" abgelegt?
Der Tomcat startet mit Fehlermeldungen, diese sich natürlich auch auf die Funktion der Software auswirken.

Catalina:

SEVERE: The web application [/emmieam] appears to have started a thread named [oracle.jdbc.driver.BlockSource.ThreadedCachingBlockSource.BlockReleaser] but has failed to stop it. This is very likely to create a memory leak.
Okt 19, 2016 8:05:12 AM org.apache.catalina.loader.WebappClassLoaderBase checkThreadLocalMapForLeaks

iteraplan.log:

org.apache.commons.dbcp.SQLNestedException: Cannot load JDBC driver class 'oracle.jdbc.OracleDriver'

In der iteraplan.log ist ein ähnliches Fehlerbild zu finden in Zusammenhang mit dem ojdbc-Treiber.
Haben Sie Oracle 12 im Einsatz, oder gab es hier Updates? Wenn dies der Fall ist, sollte hier der aktuelle Treiber verwendet werden.

Würden Sie bitte prüfen, ob sich an Ihrer Tomcat Konfiguration was geändert hat, hier ist das Problem zu suchen. 

Viele Grüße,

Christoph Stangl - iteraplan Support 
"	"19/Oct/16 3:33 PM;alfred.studer@emmi.com;Der  ojdbc Treiber ist definitiv drin. Ich habe heute morgen iteraplan 5.3 auf 2 Servern neu installiert. Der ojdbc Treiber habe ich erst nach der iteraplan Installation zugefügt. 

[WARN ] 19-Okt-2016 08:35:21 [env.internal.JdbcEnvironmentInitiator] HHH000342: Could not obtain connection to query metadata : Cannot load JDBC driver class 'oracle.jdbc.OracleDriver'

Ab ca. 09:00 ist dieser oder ähnlicher Eintrag nicht mehr vorhanden.
Es ist so, dass wir Oracle 12 im Einsatz haben. Aber dies hatten wir auch schon mit iteraplan 5.2. Wie in der Version 5.2 verwenden wir auch in der 5.3 apache-tomcat-7.0.65. Von daher hat sich nichts verändert.

Wenn ich den Server neu starte, dann sollte, falls der Treiber nicht vorhanden wäre, sofort gemeldet werden, dass dieser fehlen würde.

15:03 -> Server neu gestartet. Kein Eintrag
Graphics Reaktor hat immer noch das gleiche Verhalten.

Sende ihnen noch meine Installations-Doku. Da ist jeder Schritt dokumentiert. Es kann sein, dass noch alte Bilder drin sind. Zusätzlich noch die Server.xml. Mehr passe ich in TomCat/conf nicht mehr an.

[^Installation Iteraplan Version 5.3.docx] _(1,66 MB)_

[^iteraplan-5.3.0.log] _(145 kB)_

[^server.xml] _(2 kB)_"	"19/Oct/16 3:35 PM;alfred.studer@emmi.com;der ojdbc treiber liegt unter C:\Program Files\Apache Software Foundation\Tomcat 7.0\lib
und nicht ""[TOMCAT]\webapps[iteraplaninstanz]]WEB-INF\lib"". Dort ist kein lib Verzeichnis vorhanden"	"19/Oct/16 4:25 PM;cst;So habe jetzt den Vorgang nochmals von oben bis unten durch geschaut.
Was mich hier nach wie vor stutzig macht ist die lange Wartezeit und die Fehler die sie mir hierzu geschickt haben.

Caused by: java.sql.SQLSyntaxErrorException: ORA-00942: Tabelle oder View nicht vorhanden

ORA-00942: table or view does not exist

Die Ursache zu diesem Fehlerbild schreibt Oracle:

You tried to execute a SQL statement that references a table or view that either does not exist, that you do not have access to, or that belongs to another schema and you didn't reference the table by the schema name.

Würden Sie nochmals in der Datenbank schauen ob die Tabelle wie folgt angelegt wurde. 

!Database.PNG|thumbnail!
"	"20/Oct/16 10:05 AM;alfred.studer@emmi.com;Als Beilage sende ich ihnen die Darstellung der Tabelle. Zusätzlich habe ich noch eingefügt, wie lange man auf gewisse Sachen warten muss oder ab wann ich den Prozess abgebrochen hatte, wenn man Graphics Reactor verwenden will.

Gefällt mir gar nicht!

[^Graphics Reactor.docx] _(202 kB)_"	"20/Oct/16 10:31 AM;cst;Guten Morgen Herr Studer,

in Ihrem mitgeschickten Word-Dokument ist der Ordner ""WEB-INF\classes\reactor"" leer.
Wenn ""Ordner"" und ""Scripte"" hochgeladen werden, werden diese in diesem Verzeichnis angelegt.

Somit müsste nach dem Screenshot der Ordner ""Data"" und ""Scripts"" angelegt worden sein, wie auch die Skripte. 

Also wurden die Einträge in die Datenbank korrekt angelegt, aber der Dateien sind nicht in das Verzeichnis geschrieben worden.
Würden Sie bitte prüfen, ob in dem Verzeichnis andere Berechtigungen gesetzt sind, die das ""Lesen"" und ""Schreiben"" an der Stelle verhindern.

Wie schon geschrieben, der Aufruf des Graphics Reactors dauert nicht länger als mehrere Sekunden, vorher müssen wir aber die Fehlerquelle finden. 
Auch würde das leeren des Browserchachses an der Stelle empfehlen. 

Viele Grüße,

Christoph Stangl - iteraplan Support 
"	"20/Oct/16 11:29 AM;alfred.studer@emmi.com;Eine Sache der Berichtigung ist dies nicht. Denn die Dateien, werden ja in die entsprechende Struktur eingefügt. Somit ist das Lesen und Schrieben gegeben.

Der Ordner ist ""WEB-INF\classes\reactor\Data""
Und es soll zeigen, dass in diesem Ordner die Datei ""iteraplanMetamodel.ecor"" bereits gelöscht ist und im iteraplan immer noch sichtbar ist.
Die beiden Ordner wurden korrekt angelegt. Dies einfach mit einem Zeitversatz. Das Löschen entsprechend gleich."	"20/Oct/16 11:38 AM;cst;Würden Sie bitte einmal den ""Index neu Erstellen"" und anschließend den Graphics Reactor neu öffnen.
Führt es wieder zum gleichen Verhalten, schicken Sie mir bitte die iteraplan.log und die catalina.log mit dem Zeitpunkt wo der Aufruf erfolgt ist. 

Der Tomcat wurde in der Zwischenzeit schon neu gestartet?
Wenn nicht, würde ich dies vor den oben beschriebenen Schritten durchführen.

Viele Grüße,

Christoph Stangl - iteraplan Support  "	"20/Oct/16 1:21 PM;alfred.studer@emmi.com;Index neu erstellt und der Reboot habe ich heute Morgen bereits gemacht. Im Word habe ich die Ansicht von iteraplan und dem Server übereinandergelegt.

Die Logs lege ich ebenfalls bei.


[^Graphics Reactor.docx] _(208 kB)_

[^catalina.2016-10-20.log] _(49 kB)_

[^iteraplan-5.3.0.log] _(11 kB)_"	"24/Oct/16 1:39 PM;cst;Hallo Herr Studer, 



nach absprachen mit unseren Entwicklern benötigen für die weitere Analyse folgenden Screenshot:



# Öffnen Sie den Internet Explorer 

# Drücken F12 (hier öffnet sich die Entwicklungstools 

# Gehen in den Reiter ""Netzwerk"" 

# Starten Sie iteraplan und öffnen den Graphics Reactor über den interaktiven Client 

# Nachdem Sie diesen aufrufen, wird in dem geöffneten Fenster des Internet Explorers der Aufruf mit aufgezeichnet 

# Hier benötigen wir den Text der ""get"" Abfrage von ""http://localhost:8080/iteraplan/api/reactor/files?path=%2F""

# Den Text erhalten Sie, wenn Sie mit der linken Maustaste das Element markieren  (rechts am Rand erscheint ein weiterer Frame mit den Punkten ""Header"" ""Text"" ....)

# Jetzt klicken Sie im rechten Frame auf den Reiter ""Tab"" und machen uns von dem kompletten Fenster einen Screenshot

# Zusätzlich klicken Sie im Hauptfenster auf den ""Tab"" - ""Konsole"" und prüfen hier, ob Fehler/Warnungen aufgetreten sind 



Ein Beispiel Screenshot zum oben genanten Punkt habe ich an dieses Ticket mit angehängt.



!Netzwerk.PNG|thumbnail!



Viele Grüße,



Christoph Stangl - iteraplan Support



"	"24/Oct/16 2:14 PM;alfred.studer@emmi.com;Das sieht bei uns ganz anders aus!
Die Emulation von IE11 haben wir nicht. IE Edge und dann IE10.
Aber nichts desto trotz, habe ich die entsprechende gesuchte Abfrage nicht gefunden. Dies auf beiden Servern, welche ich umgestellt habe, nicht.
Das Resultat, habe ich ihnen als XML Datei abgespeichert.

[^NetworkData.xml] _(5,15 MB)_"	"25/Oct/16 7:46 AM;alfred.studer@emmi.com;Anbei noch die grafische Darstellung

[^F12 - Netzwerk.docx] _(251 kB)_"	"26/Oct/16 2:45 PM;cst;Vielen Dank für die Zusendung der zwei Dateien. 
Das Verhalten ist sehr schwer zu analysieren, nach Prüfung und Rücksprache mit unseren Entwicklern haben wir eine neue Spur. 

Würden Sie uns bitte die ""web.xml"" des iteraplan Verzeichnisses und die aus dem ""conf"" Ordner des Tomcats zur Verfügung stellen. 

Sollte dies nicht zur Lösung führen, werde ich Sie Morgen hierzu zurück rufen, um den Vorgang nochmals in Ruhe mit Ihnen zu besprechen.

Viele Grüße,

Christoph Stangl - iteraplan Support 

"	"27/Oct/16 8:14 AM;alfred.studer@emmi.com;Wie gewünscht
Freitag ist mein Frei Tag. Somit werden sie mich allenfalls nicht erreichen können.

[^web.xml] _(167 kB)_"	"27/Oct/16 4:39 PM;cst;Werden Sie am Montag hierzu kontaktieren. 
Würde hierfür 11:00 Uhr vorschlagen, gerne können Sie mir auch einen Termin nennen, wo wir den Vorgang weiter besprechen.

Viele Grüße und einen schönen Frei Tag, 

Christoph Stangl - iteraplan Support "	"31/Oct/16 9:13 AM;alfred.studer@emmi.com;11:00 ist ok
Sind uns am überlegen, auf die 5.4 zu gehen. Hat dann natürlich einen direkten Einfluss auf dieses Ticket."	"31/Oct/16 9:36 AM;cst;Sehr geehrter Herr Studer,

gerne können Sie das direkt probieren, am Graphics Reactor wurde in Version 5.4 weiter gearbeitet.
Sollte dies nicht zum Ergebnis führen, bin den ganzen Tag telefonisch verfügbar und stehen Ihnen gerne zur Verfügung. 

Viele Grüße, 

Christoph Stangl - iteraplan Support "	"31/Oct/16 9:39 AM;alfred.studer@emmi.com;Dies wäre für den Mittwoch geplant
Mal schauen, ob mein DB Admin dafür heute Zeit hätte.

Mir ging es darum, wenn weitere Punkte geklärt werden sollten um herauszufinden warum wir so Probleme damit haben, sollte eigentlich kein Update gemacht werden - oder?"	"31/Oct/16 9:45 AM;cst;Das Fehlerbild würde im schlimmsten Fall gleich bleiben, oder nicht mehr auftauchen. 
Ein Update kann an der Stelle gemacht werden, da es keinen Einfluss auf andere Komponenten hat.

Wie oben geschrieben, bleibt das Verhalten im schlimmsten Fall gleich. 
Es kann auch sein das hier genauere Informationen im LOG stehen, es wurde an der Komponente noch viel optimiert. 

Viele Grüße,

Christoph Stangl 

"	31/Oct/16 9:51 AM;alfred.studer@emmi.com;ok, dann tun wir dies	"31/Oct/16 3:14 PM;alfred.studer@emmi.com;Also, iteraplan 5.4 ist installiert. 

Um den Reactor zu starten braucht es einen kleinen Moment. Aber was er wie vorher nicht schneller mitbekommt respektive aktualisiert, wenn eine Datei oder ein Ordner gelöscht wird. Auf dem Server wird dies rasch erledigt. Aber im Webbrowser geht dies eine Ewigkeit.

Also somit nichts neues aus dem Süden in dieser Sache!"	"31/Oct/16 3:23 PM;alfred.studer@emmi.com;Was mich aber definitiv etwas verwirrt ist, dass die beiden Server,  obwohl gleich installiert anders dastehen.
Wenn ich den interaktiven Client starte sehen die beiden Server anders aus. Der Unterschied der beiden Server ist lediglich die Einstellung des Java Speichers. Der srv17607 hat 2048 MB und der srv17622 hat lediglich 1024 MB

[^Unterschiedliche Darstellung der Server.docx] _(309 kB)_"	"03/Nov/16 9:23 AM;cst;Hallo Herr Studer,

vielen Dank für das nette Gespräch.
Sollte der Cache die Lösung für Ihr Problem sein, geben Sie mir bitte kurz Rückmeldungm das ich das Ticket schließen kann

Viele Grüße,

Christoph Stangl - iteraplan Support"	"16/Nov/16 9:06 AM;alfred.studer@emmi.com;Nein, aus meiner Sicht ist das Problem noch nicht gelöst!

Bin jetzt auf der Prod ebenfalls auf der 5.4 und sowohl auf meinem PC, in einem Virtuellen PC und bei meinem Chef besteht das Problem weiterhin, dass die Ordner oder Dateien nicht angezeigt werden. Ich habe auf meinem PC bereits zum dritten Mal den Cache gelöscht."	"16/Nov/16 9:36 AM;cst;Sehr geehrter Herr Studer,



vielen Dank für Ihre Antwort. 



Da die Software ordnungsgemäß an anderen Clients funktioniert, kann ein generelles Problem mit iteraplan erstmals ausgeschlossen werden.



Habe den Vorgang auch nochmals ausführlich getestet und kann dieses nicht nachvollziehen. 

Auch ist uns von keiner anderen Stelle, hier ein ähnliches Problem bekannt. 



Würden Sie bitte Ihre Systemumgebung prüfen, was hier die Unterschiede zu einem funktionierenden Client sind?

Wir können Ihnen an dieser Stelle nur bedingt weiterhelfen.



Bei Fragen zum Produkt, stehe ich Ihnen gerne zur Verfügung. 



Viele Grüße,



Christoph Stangl - iteraplan Support "															
