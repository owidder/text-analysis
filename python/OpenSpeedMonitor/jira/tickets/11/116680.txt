Auth	"Hi



After switching to SSO & LDAP some of our internal users (not integrated for windows based SSO / into our active directory domain) reported, that the login does not work for them anymore.



* In this scenario, the persons get a login screen.

* the frontend webserver does NOT send an http authentication header to the tomcat (=no sso), which is ok for such users

* Iteraplan shows the login screen

* user enters his windows credentials

* Iterplan does nothing, but should try to do a LDAP Login and everything would be fine.



We assume, that modifying the file applicationContext-spring-security.xml would allow the desired behaviour of Iteraplan.



While using SSO, how can we support endusers without domain joined devices, but with windows accounts?



Thanks Martin"		Fault	iteraplan Support	27/Mar/17 3:27 PM	25/Apr/17 7:00 AM														"27/Mar/17 4:06 PM;cst;Dear Martin, thank you for your inquiry.

We have checked your issue and edited our standard ""applicationContext-spring-security.xml"". 
 Could you please test the new ""applicationContext-spring-security.xml"", this should fix the problem.

[^applicationContext-spring-security.xml]

Greetings,

Christoph Stangl - iteraplan Support 
"	"27/Mar/17 6:41 PM;martin.eberle@zumtobelgroup.com;It doesn't work.
* access with http header transfered to tomcat still works
* access without this header => basic auth popup, no login possible (logs attached)

I also attached the applicationContext-spring-security.xml I had before. Strange to me is, that a lot of other stuff is different in the received file (e.g. application paths)

Maybe you send me the wrong file?

[^localhost.2017-03-27.log] _(39 kB)_

[^applicationContext-spring-security.xml] _(17 kB)_

[^applicationContext-spring-security.xml (=from Iteraplan to test)] _(16 kB)_"	"28/Mar/17 11:36 AM;cst;Sorry this was my fault :( 

Here the correct file:

[^applicationContext-spring-security.xml]

Greetings,

Christoph Stangl - iteraplan Support"	"28/Mar/17 2:14 PM;martin.eberle@zumtobelgroup.com;question: does this only work with basic auth or would this also work with a form based login?

The only difference to the newly provided file is:
<constructor-arg ref=""basicAuthenticationEntryPoint"" /> 
in the bean 
<bean id=""exceptionClientTranslationFilter"" class=""org.springframework.security.web.access.ExceptionTranslationFilter"">"	"29/Mar/17 8:36 AM;cst;This change in the configuration, shows you a login screen from iteraplan when the SSO login does not work, or needs a authentication
 When the LDAP is correct connected, the login will be accomplished after enter the ""Login Name"" and ""Password"" of a domain user.

With local windows user, the login did not work. 

You can check this with the following link:

""[http://yourservername:yourport/iteraplaninstancename/api/data|http://yourservernameyourport/]""

Greetings,

Christoph Stangl - iteraplan Support

--------------------

Sehr geehrter Herr Eberle,

wir können hierzu gerne heute, oder nächste Woche Montag telefonieren.
 Dann können wir das Szenario nochmal durchsprechen und wie wir Ihnen hier weiterhelfen können. "	"30/Mar/17 10:22 AM;martin.eberle@zumtobelgroup.com;Eine telefonische / Websession Abstimmung halte ich auch für das Beste. Wie wäre es heute um 15:00 Uhr?

Unser Aufbau:
* https://serverurl => zeigt auf apache http mit Kerberos (... funktioniert bereits für alle Anwender mit verfügbarer Windows integrierter Auth, Domain Join)
* https://serverurl:444 => zeigt auf apache tomcat (übergeht also für den Test den http)

Unser Problem:
Mac User (kein domain Join) => Browser => Tomcat 
- jetzt kommt das Form Login von Iteraplan, und darüber das POPUP der Basic Auth
- nach Eingabe der Credentials im POPUP, geht das weg und das FormLogin bleibt stehen."	"30/Mar/17 3:08 PM;cst;Hallo Herr Eberle,

unsere Abteilung ist heute und morgen auf einem Firmen-Workshop.
Wir können hier unseren Termin nächste Woche durchführen. 

Werde das Problem noch mit unserem Entwickler gegen prüfen.

Viele Grüße,

Christoph Stangl - iteraplan Support"	03/Apr/17 11:38 AM;martin.eberle@zumtobelgroup.com;heute um 13:00 Uhr?	"03/Apr/17 11:48 AM;cst;Hallo Herr Eberle,

vielen Dank für Ihre Antwort.

Wäre erst ab 14:30 zu sprechen, ginge das bei Ihnen auch? 
Sonst können Sie mir gerne einen Termin für morgen früh nennen, da wäre ich komplett frei. 

Viele Grüße,

Christoph Stangl - iteraplan Support"	"03/Apr/17 12:11 PM;martin.eberle@zumtobelgroup.com;Perfect - here the invite
 Join Skype Meeting    https://meet.lync.com/zgrp/martin.eberle/P752J0L3   
This is an online meeting for Skype for Business, the professional meetings and communications app formerly known as Lync.
Join by phone

Toll number:	 +4312056366077 (Dial-in Number) 		German (Germany)  

Conference ID: 82921704
"	"04/Apr/17 8:05 AM;cst;Guten Morgen Herr Eberle,

vielen Dank für das nette Gespräch.

Mit dieser Nachricht erhalten Sie das aktuelle Service Release. 
Habe es mit Ihren Daten gegen getestet und jetzt wird die Liste korrekt aufgebaut und gefiltert.

[^iteraplan-client-5.5.1.jar]
 # Laden Sie die angehängte Datei herunter: ""iteraplan-client-5.5.1.jar""
 # Fahren Sie Ihren Tomcat-Server herunter
 # Öffnen Sie das Verzeichnis [TOMCAT]\webapps[ITERAPLAN]\WEB-INF\lib
 # Prüfen Sie, ob in diesem Verzeichnis eine Datei mit dem Namen ""iteraplan-client-5.5.1.jar"" oder ""iteraplan-client-5.5.2.jar"" existiert
 # Löschen Sie die alte Datei und kopieren Sie die heruntergeladene Datei in das Verzeichnis (falls die alte Datei auf 5.5.2 geendet hat, benennen Sie bitte die heruntergeladene Datei auch auf 5.5.2 um)
 # Löschen Sie das work-Verzeichnis (temporäres Verzeichnis) des Tomcats unter [TOMCAT]work\Catalina\localhost[ITERAPLAN]
 # Fahren Sie den Tomcat wieder hoch
 # Löschen Sie den Browsercache

Viele Grüße,

Christoph Stangl - iteraplan Support"	"04/Apr/17 1:15 PM;martin.eberle@zumtobelgroup.com;Neue Datei ist eingespielt. ""ADB"" kann auch gesucht werden.
Alles extrem langsam, nicht verwendbar.

Aber wieder Fehler: wenn ich ""ADB"" und ""Cadbas"" auswähle, dann geht wieder gar nichts."	"04/Apr/17 3:05 PM;cst;So habe das Service-Release neu bauen lassen und ausführlich getestet.
Da ist mir heute früh ein Fehler passiert und ich möchte hierfür entschuldigen.

Habe die Datei neu hochgeladen.

[^iteraplan-client-5.5.1.jar]

Grüße,

Christoph Stangl - iteraplan Support"	"05/Apr/17 9:27 AM;martin.eberle@zumtobelgroup.com;habe ich eingespielt und suche funktioniert soweit. Allerdings ist immer noch alles extrem langsam.

weiteres Problem nun:
Links (eingebettet im Beschreibungsfeld) funktionieren im newClient nicht mehr. 
Anklicken im newClient bringt eine Fehlermeldung ""Sorry! This section is not supported.""

!2017-04-05 09_21_14-Information Systems _ CRM Sesam (65) - iteraplan.png|thumbnail!

!2017-04-05 09_21_46-Element Details.png|thumbnail!

!2017-04-05 09_22_01-Not supported.png|thumbnail!"	"05/Apr/17 9:40 AM;cst;Guten Morgen Herr Eberle,

das Thema XWIKI Syntax wird mit Version 6.0 gelöst. 
Im Moment wie in der Dokumentation beschrieben, wird nur ein Teil der XWIKI Syntax unterstützt

_Currently only a sub set of the XWiki syntax is supported _

https://doc.iteraplan.de/display/iteraplan55/Lists 

Das Thema Performance wundert mich, die Liste ist im Normalfall wirklich sehr flott. Ist es möglich mal zu schauen, welches der Elemente hier so lange zum Laden braucht? (F12 und Network).

Viele Grüße, 

Christoph Stangl - iteraplan Support "	"05/Apr/17 1:55 PM;martin.eberle@zumtobelgroup.com;1) Performance hat sich etwas eingependelt ?! -> wir werden es beobachten.

2) Problem umschalten Classic / New Client
Die Anwender, die sich mit dem Basic Auth anmelden können im Moment keine Daten Pflege machen, weil:
* nach wie vor der Klick zum Wechseln in den Classic wieder auf den NewClient zurückgeleitet wird (=selbes Verhalten wie sie selbst bei uns gesehen haben)
* im neuen Client aber nur ""read only"" angezeigt wird

Wie können wir das lösen?

Danke Martin Eberle

!2017-04-05 13_55_21-Element Details.png|thumbnail!"	"06/Apr/17 8:33 AM;cst;Guten Morgen,

vielen Dank für Ihre Antwort.

_im neuen Client aber nur ""read only"" angezeigt wird_

In der Version 5.5 ist ein editieren der Daten nur in der Listenansicht möglich, das editieren mit der Einzelansicht der Elemente wird in Version 6.0 möglich sein.

_nach wie vor der Klick zum Wechseln in den Classic wieder auf den NewClient zurückgeleitet wird (=selbes Verhalten wie sie selbst bei uns gesehen haben)_

Man muss hier dazu sagen, das der generelle Zugriff über LDAP und SSO bei Ihren Windows Systemen funktioniert. Mir ist an der Stelle nicht ganz klar, warum er hier eine Schleife dreht und woher die Umleitung / ausloggen und neu Einloggen angetriggert wird. Habe unsere Entwickler hierzu befragt und diese konnten mir direkt nicht weiterhelfen, da wir hier vom Standard abweichen. Folgendes könnte man hier testen, ob dies eine Änderung bringt. Fügen Sie bitte in der ""applicationContext-spring-security.xml"" folgende Zeile hinzu:



<security:intercept-url pattern=""/start/start.do"" access=""IS_AUTHENTICATED_ANONYMOUSLY"" /> sollte dies nicht helfen, tauschen Sie ""IS_AUTHENTICATED_ANONYMOUSLY"" mit ""IS_AUTHENTICATED_REMEMBERED"" aus. 

Sollte dies zu einem Ergebnis führen, bitte prüfen Sie ob die Anmeldung und Nutzung der Windows-User noch ordnungsgemäß funktioniert.

Viele Grüße,

Christoph Stangl - iteraplan Support

 "																																						
