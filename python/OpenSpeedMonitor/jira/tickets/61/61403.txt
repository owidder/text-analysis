Errors during deletion via Import with Java 8	"_Reproduce (with sample data):_

# Start iteraplan Tomcat using Java 8

# Download full XLSX data

# In the Excel file, remove all data rows in the Infrastructure Element sheet

# In the Excel file, remove all data rows in the related sheets ""IS-IE"", ""TC-IE"" and ""IE-ITS""

# Upload the Excel file using overwrite strategy



_Expected:_ All import steps successful, all Infrastructure Elements deleted



_Actual:_ Until step 4 everything as expected. In step 5 exceptions happen.

{noformat}

[ERROR] [2015-10-25 14:24:15] (dialog.ExcelImport.ImportFrontendServiceImpl) Error executing import step.

java.util.concurrent.ExecutionException: de.iteratec.iteraplan.common.error.IteraplanTechnicalException: Der Import-Vorgang endete mit Fehlern. Es wurden keine Änderungen in die Datenbank übernommen.

	at java.util.concurrent.FutureTask.report(FutureTask.java:122)

	at java.util.concurrent.FutureTask.get(FutureTask.java:192)

	at de.iteratec.iteraplan.presentation.dialog.ExcelImport.ImportFrontendServiceImpl.extractStepResult(ImportFrontendServiceImpl.java:152)

	at de.iteratec.iteraplan.presentation.dialog.ExcelImport.ImportFrontendServiceImpl.updateResultMessages(ImportFrontendServiceImpl.java:142)

...

Caused by: de.iteratec.iteraplan.common.error.IteraplanTechnicalException: Der Import-Vorgang endete mit Fehlern. Es wurden keine Änderungen in die Datenbank übernommen.

	at de.iteratec.iteraplan.businesslogic.exchange.elasticImport.tasks.AbstractImportTask.call(AbstractImportTask.java:60)

...

Caused by: de.iteratec.iteraplan.common.error.IteraplanTechnicalException: Das gewählte Bebauungselement wurde nicht gefunden. Möglicherweise wurde es von einem anderen Anwender zwischenzeitlich gelöscht oder es ist wegen einem Filter nicht mehr sichtbar. Bitte wählen Sie ein anderes Bebauungselement.

	at de.iteratec.iteraplan.businesslogic.service.AbstractEntityService.loadObjectById(AbstractEntityService.java:89)

	at de.iteratec.iteraplan.businesslogic.service.AbstractBuildingBlockService.deleteEntity(AbstractBuildingBlockService.java:115)

...

Caused by: org.springframework.orm.hibernate3.HibernateObjectRetrievalFailureException: No row with the given identifier exists: [de.iteratec.iteraplan.model.Tcr2IeAssociation#417]; nested exception is org.hibernate.ObjectNotFoundException: No row with the given identifier exists: [de.iteratec.iteraplan.model.Tcr2IeAssociation#417]

	at org.springframework.orm.hibernate3.SessionFactoryUtils.convertHibernateAccessException(SessionFactoryUtils.java:692)

...

Caused by: org.hibernate.ObjectNotFoundException: No row with the given identifier exists: [de.iteratec.iteraplan.model.Tcr2IeAssociation#417]

	at org.hibernate.impl.SessionFactoryImpl$2.handleEntityNotFound(SessionFactoryImpl.java:435)

...

{noformat}



Using Java 7 it works fine."		Bug	iteraplan PO	25/Oct/15 2:29 PM	29/Oct/15 2:31 PM					delete	import																																																														
