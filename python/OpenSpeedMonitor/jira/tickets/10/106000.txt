Historymigration kann nicht wiederaufgesetzt werden.	"Hallo,

Nachdem die Historymigration heute Nacht wegen nächtlichem Restart nach 3 Stunden abgebrochen ist, lässt sie sich nicht wiederaufsetzen.

Es kommt die Meldung



Already migrated history data was found. Cancelling migration.



was ja nicht wirklich stimmt.

Die Logfiles sende ich Ihnen in einem anderen Ticket zu.



Beste Grüße

Armin Joachimsmeyer"		Fault	iteraplan Support	17/Dec/16 10:16 AM	24/Mar/17 11:38 AM														"18/Dec/16 1:05 PM;armin.joachimsmeyer@axa.de;Hallo,
schön wäre ein Argument
-f InfrastructureElement
für force und mache bei InfrastructureElement weiter.

Beste Grüße
Armin Joachimsmeyer"	"19/Dec/16 9:51 AM;cst;Hallo Herr Joachimsmeyer,

vielen Dank für Ihre Anfrage. 

Um die Migration erneut durchführen zu können, müssen die neu erstellten Tabellen wieder entfernt werden. 
Werde Ihnen an dieses Ticket das Script für Oracle bereit stellen. 

Dies wird im laufe des heutigen Tages passieren.

Viele Grüße,

Christoph Stangl - iteraplan Support 

"	"19/Dec/16 4:03 PM;cst;drop table HISTORY_AD cascade constraints;
drop table HISTORY_AD_ADDED_VAL cascade constraints;
drop table HISTORY_AD_REMOVED_VAL cascade constraints;
drop table HISTORY_ATT cascade constraints;
drop table HISTORY_BD cascade constraints;
drop table HISTORY_BD_ADDED_VAL cascade constraints;
drop table HISTORY_BD_REMOVED_VAL cascade constraints;
drop table HISTORY_BF  cascade constraints;
drop table HISTORY_BF_ADDED_VAL cascade constraints;
drop table HISTORY_BF_REMOVED_VAL cascade constraints;
drop table HISTORY_BM cascade constraints;
drop table HISTORY_BM_ADDED_VAL cascade constraints;
drop table HISTORY_BM_REMOVED_VAL cascade constraints;
drop table HISTORY_BO cascade constraints;
drop table HISTORY_BO_ADDED_VAL cascade constraints;
drop table HISTORY_BO_REMOVED_VAL cascade constraints;
drop table HISTORY_BP cascade constraints;
drop table HISTORY_BP_ADDED_VAL cascade constraints;
drop table HISTORY_BP_REMOVED_VAL cascade constraints;
drop table HISTORY_BU cascade constraints;
drop table HISTORY_BU_ADDED_VAL cascade constraints;
drop table HISTORY_BU_REMOVED_VAL cascade constraints;
drop table HISTORY_IE cascade constraints;
drop table HISTORY_IE_ADDED_VAL cascade constraints;
drop table HISTORY_IE_REMOVED_VAL cascade constraints;
drop table HISTORY_ISD cascade constraints;
drop table HISTORY_ISD_ADDED_VAL cascade constraints;
drop table HISTORY_ISD_REMOVED_VAL cascade constraints;
drop table HISTORY_ISI cascade constraints;
drop table HISTORY_ISI_ADDED_VAL cascade constraints;
drop table HISTORY_ISI_REMOVED_VAL cascade constraints;
drop table HISTORY_ISR cascade constraints;
drop table HISTORY_ISR2BO cascade constraints;
drop table HISTORY_ISR2BO_ADDED_VAL cascade constraints;
drop table HISTORY_ISR2BO_REMOVED_VAL cascade constraints;
drop table HISTORY_ISR2IE cascade constraints;
drop table HISTORY_ISR2IE_ADDED_VAL cascade constraints;
drop table HISTORY_ISR2IE_REMOVED_VAL cascade constraints;
drop table HISTORY_ISR_ADDED_VAL cascade constraints;
drop table HISTORY_ISR_REMOVED_VAL cascade constraints;
drop table HISTORY_ITS cascade constraints;
drop table HISTORY_ITS_ADDED_VAL cascade constraints;
drop table HISTORY_ITS_REMOVED_VAL cascade constraints;
drop table HISTORY_PROD cascade constraints;
drop table HISTORY_PROD_ADDED_VAL cascade constraints;
drop table HISTORY_PROD_REMOVED_VAL cascade constraints;
drop table HISTORY_PROJ cascade constraints;
drop table HISTORY_PROJ_ADDED_VAL cascade constraints;
drop table HISTORY_PROJ_REMOVED_VAL cascade constraints;
drop table HISTORY_STATE cascade constraints;
drop table HISTORY_TCR cascade constraints;
drop table HISTORY_TCR2IE cascade constraints;
drop table HISTORY_TCR2IE_ADDED_VAL cascade constraints;
drop table HISTORY_TCR2IE_REMOVED_VAL cascade constraints;
drop table HISTORY_TCR_ADDED_VAL cascade constraints;
drop table HISTORY_TCR_REMOVED_VAL cascade constraints;
drop table HISTORY_TRANS_ADDED_VAL cascade constraints;
drop table HISTORY_TRANS_REMOVED_VAL cascade constraints;
drop table HISTORY_TRANSPORT cascade constraints;
COMMIT;

Damit verschwinden alle Tabelle die mit der History Migration in Verbindung stehen. Diese müssen anschließend über das Migration_Skript 5.3 zu 5.4 wieder angelegt werden."	"19/Dec/16 4:33 PM;armin.joachimsmeyer@axa.de;Hallo, ich bin etwas angefressen.
Das ist doch hochgradig unprofessionell.
Ich habe die Datenbank nicht im persönlichen Zugriff, das sind alles Aufträge die, wenn es schlecht läuft auch schon mal eine Woche dauern können und Geld kosten!!!

Vielleicht können sie mir ja mal die Java Sourcen des Mail Loops und der main Klasse schicken, dann programmiere ich Ihnen die restart Funktionalität mal schnell rein.

Und warum tuts nicht ein delete * ? Drop und create geht natürlich auch, aber dazu brauche ich mehr Rechte.

Mit freundlichen Grüßen
Armin Joachimsmeyer
"	"20/Dec/16 11:41 PM;armin.joachimsmeyer@axa.de;Leider ist der erneute test auf der 2. Datenbank nach 6 Stunden 20 Minuten abgebrochen.
Ich bitte eindringlicht darum, eine Wiederaufsetzbare Version zu bekommen.
Hier der Nullpointer des Absturzes:
Die Logs hänge ich an.
[INFO ] [2016-12-20 19:26:28] (iteraplan.historyMigrationTool.HistoryLogger) Mig
rating change history of InfrastructureElement 2/3750 - ID: 24058
.
[INFO ] [2016-12-20 19:26:29] (iteraplan.historyMigrationTool.HistoryLogger) Mig
rating change history of InfrastructureElement 3/3750 - ID: 67529
...Exception in thread ""main"" java.lang.NullPointerException
        at de.iteratec.iteraplan.persistence.change.ModelChangeBuilder$SimpleBB.
getBuildingBlockType(ModelChangeBuilder.java:691)
        at de.iteratec.iteraplan.persistence.change.ModelChangeBuilder$SimpleBB.
<init>(ModelChangeBuilder.java:661)
        at de.iteratec.iteraplan.historyMigrationTool.IEEntityFactory.handleRela
tionships(IEEntityFactory.java:53)
        at de.iteratec.iteraplan.historyMigrationTool.IEEntityFactory.generateEn
titiesForSpecificChanges(IEEntityFactory.java:27)
        at de.iteratec.iteraplan.historyMigrationTool.GeneralEntityFactory.gener
ateEntities(GeneralEntityFactory.java:52)
        at de.iteratec.iteraplan.historyMigrationTool.MigrationService.generateH
istoryForType(MigrationService.java:161)
        at de.iteratec.iteraplan.historyMigrationTool.MigrationService.migrateOl
dHistoryChangesets(MigrationService.java:93)
        at de.iteratec.iteraplan.historyMigrationTool.MigrationService.migrate(M
igrationService.java:56)
        at de.iteratec.iteraplan.historyMigrationTool.Main.main(Main.java:31)"	"20/Dec/16 11:42 PM;armin.joachimsmeyer@axa.de;

[^migration.log] _(188 kB)_

[^iteraplan.log] _(506 kB)_"	"20/Dec/16 11:45 PM;armin.joachimsmeyer@axa.de;Ich hab noch einen Vorschlag.
Wir senden Ihnen unseren Oracle Dump und sie testen, bis er durchläuft.

Mit freiundlichen Grüßen
Armin Joachimsmeyer"	"21/Dec/16 8:18 AM;cst;Sehr geehrter Herr Joachimsmeyer,

vielen Dank für Ihre Antwort.

Gerne machen wir das so, das ist denke ich der schnellste Weg Ihnen eine Lösung für das Problem zu bieten. 
Wenn wir den Dump erhalten haben, werden wir den Vorgang weiter prüfen. 

Viele Grüße,

Christoph Stangl "	"21/Dec/16 1:43 PM;armin.joachimsmeyer@axa.de;

[^expdp_spp5.ITERAPLAN_ADM.tar.gz] _(14,64 MB)_"	"30/Dec/16 2:20 PM;sfe;After downloading the new version of the migration tool, the recommended execution for AXA data is as follows:

{noformat}

migrateHistory.bat association_masters=IE,BO

{noformat}



or for Linux:



{noformat}

./migrateHistory.sh association_masters=IE,BO

{noformat}



The _association_masters_ parameter is not documented and should never be used without consulting the iteraplan support."	"30/Dec/16 4:10 PM;fka;Sehr geehrter Herr Joachimsmeyer,

wir haben mit Hilfe des DB-Dumps (vielen Dank für die Bereitstellung!) das Problem analysiert und können nun eine verbesserte Version des History Migration Tools bereit stellen. Mit diesem lief eine Migration Ihrer Daten bei uns in einem Test ohne Probleme.

Außerdem müssen nun bei einem erneuten Start der Migration eventuelle ""Reste"" eines vorherigen Laufs nicht mehr per Hand beseitigt werden, dies erledigt das Tool nach einer Nachfrage für Sie.

Für AXA empfehlen wir den folgenden Aufruf des Tools, der die Laufzeit und den Speicherbedarf in Ihrem Fall verringt:

{{migrateHistory.bat association_masters=IE,BO}}
bzw. unter Linux:
{{./migrateHistory.sh association_masters=IE,BO}}

Diesen nicht öffentlichen und daher auch nicht dokumentierten Parameter des Tools bitte sonst nicht ohne Rücksprache mit dem Support-Team nutzen.

Der Downloadlink für die aktualisierte Version des Tools ist derselbe wie früher:

https://www.iteraplan.de/downloads/basis/iteraplan-historyMigrationTool.zip

Login: basis
Password: joA9toup

Mit besten Grüßen
Fabian Kainzinger
"	"08/Feb/17 7:31 AM;armin.joachimsmeyer@axa.de;

[^migration.log] _(25 kB)_"	"08/Feb/17 7:32 AM;armin.joachimsmeyer@axa.de;Aufruf mit set JAVA_HOME=C:\DEV\paas\java\jdk1.7.0-x64
""%JAVA_HOME%/bin/java"" -jar historyMigrationTool.jar association_masters=IE,BO

[^iteraplan.log] _(114 kB)_"	"08/Feb/17 7:35 AM;armin.joachimsmeyer@axa.de;Hallo Herr Kainzinger, 
die Migration ist nach 1,5 Stunden abgebrochen :-(.
Und ich hatte schon gehofft....

Mit enttäuschten Grüßen
Armin Joachimseyer"	"08/Feb/17 8:56 AM;cst;Guten Morgen Herr Joachimsmeyer,



die Log-Dateien wurden geprüft und der Abbruch ist nicht durch das Tool ausgelöst worden.



Wir haben, bevor wir Ihnen das aktualisierte Tool zugesendet haben, die Migration mit Ihrem Datenbank DUMP gestest. Diese lief ohne Abbruch durch. 



Deshalb wären folgende Punkte interessant:



- Gab es einen Timeout durch die Datenbank oder einen Verbindungsabbruch? 

- Wurde im Konsolenfenster,  in welcher die Migration ausgeführt wurde, eine zusätzliche Meldung mit angezeigt? Sollte dies der Fall sein, würden Sie hierzu bitte einen Screenshot zukommen lassen. 



Viele Grüße,



Christoph Stangl - iteraplan Support "	"08/Feb/17 12:45 PM;armin.joachimsmeyer@axa.de;Guten Tag Herr Stangl,
noch eine Frage zu Ihren lokalen Test.
Wieviele Elemente warfen da Fehler?
wir haben ja immerhin 34 Fehlern bei 334 Elementen also 10%.
Beste Grüße
Armin Joachimsmeyer
"	"08/Feb/17 1:02 PM;cst;Guten Tag Herr Joachimsmeyer,

müsste ich erneut durchführen um das genau sagen zu können.
Da der Test hierzu schon im Dezember stattgefunden hat. 

Die Anzahl der Fehler hat keinen Einfluss auf die gesamte Migration. Die ""Nullpointer"" bedeuteten, wie schon erwähnt, 
das der alte History-Eintrag defekt ist und nicht konvertiert werden kann. 

Gerne führe ich den Test über Nacht erneut durch und würde Ihnen anschließend Rückmeldung geben.

Viele Grüße,

Christoph Stangl - iteraplan Support "	"08/Feb/17 5:36 PM;armin.joachimsmeyer@axa.de;Hallo,
die Migration läuft jetzt durch, wenn man das so nennen kann.
Im Schnitt 30-40 Sekunden pro Element und das bei ca. 9000 Elementen....
Gibt ca 2 1/2 Tage.
Liegt das an den neuen Parametern?
Mal sehen ob das Netzwerk solange stabil bleibt.

Beste Grüße
Armin Joachimsmeyer"	"08/Feb/17 9:12 PM;armin.joachimsmeyer@axa.de;Guten Abend nochmal,

die Zeiten sind nur bei den BusinessFunctions so grottig, der Rest liegt so bei ein paar Sekunden.
Wir werden daher die Historie der BusinessFunctions vor dem Produktionslauf löschen, sie hatten uns ja am 24.6 ein Skript geschickt, das werden wir dann auf BusinessFunction umstricken.
Wenn alles gut geht ist der komplette Lauf Morgen früh durch, ich werde Sie auf dem Laufenden halten.

Beste Grüße
 Armin Joachimsmeyer"	"10/Feb/17 7:32 PM;armin.joachimsmeyer@axa.de;Hallo
nachdem die ersten 34 Element der Informationssysteme 4,5 Stunden benötigt haben ist abzusehen, dass die Migration in ca. 2,5 Wochen, also Anfang März durchgelaufen sein wird. Solange können wir aber nicht auf Iteraplan verzichten!

Können sie das bitte nochmal testen!
[2017-02-10 13:12:20] Migrating change history of InformationSystem 1/3426 - ID: 287
[2017-02-10 13:26:52] Migrating change history of InformationSystem 2/3426 - ID: 291
[2017-02-10 13:43:04] Migrating change history of InformationSystem 3/3426 - ID: 293
[2017-02-10 13:56:06] Migrating change history of InformationSystem 4/3426 - ID: 295
[2017-02-10 14:13:58] Migrating change history of InformationSystem 5/3426 - ID: 299
[2017-02-10 14:32:06] Migrating change history of InformationSystem 6/3426 - ID: 301
[2017-02-10 14:40:33] Migrating change history of InformationSystem 7/3426 - ID: 303
[2017-02-10 14:48:29] Migrating change history of InformationSystem 8/3426 - ID: 305
[2017-02-10 14:49:25] Migrating change history of InformationSystem 9/3426 - ID: 307
[2017-02-10 14:52:15] Migrating change history of InformationSystem 10/3426 - ID: 309
[2017-02-10 14:58:37] Migrating change history of InformationSystem 11/3426 - ID: 313
[2017-02-10 15:06:05] Migrating change history of InformationSystem 12/3426 - ID: 315
[2017-02-10 15:08:25] Migrating change history of InformationSystem 13/3426 - ID: 317
[2017-02-10 15:18:06] Migrating change history of InformationSystem 14/3426 - ID: 319
[2017-02-10 15:29:49] Migrating change history of InformationSystem 15/3426 - ID: 323
[2017-02-10 15:43:31] Migrating change history of InformationSystem 16/3426 - ID: 325
[2017-02-10 15:51:21] Migrating change history of InformationSystem 17/3426 - ID: 327
[2017-02-10 15:54:00] Migrating change history of InformationSystem 18/3426 - ID: 331
[2017-02-10 16:04:23] Migrating change history of InformationSystem 19/3426 - ID: 333
[2017-02-10 16:17:40] Migrating change history of InformationSystem 20/3426 - ID: 335
[2017-02-10 16:18:06] Migrating change history of InformationSystem 21/3426 - ID: 337
[2017-02-10 17:04:25] Migrating change history of InformationSystem 22/3426 - ID: 339
[2017-02-10 17:11:26] Migrating change history of InformationSystem 23/3426 - ID: 341
[2017-02-10 17:11:58] Migrating change history of InformationSystem 24/3426 - ID: 343
[2017-02-10 17:26:41] Migrating change history of InformationSystem 25/3426 - ID: 345
[2017-02-10 17:29:25] Migrating change history of InformationSystem 26/3426 - ID: 347
[2017-02-10 17:37:22] Migrating change history of InformationSystem 27/3426 - ID: 349
[2017-02-10 17:46:22] Migrating change history of InformationSystem 28/3426 - ID: 351
[2017-02-10 17:53:14] Migrating change history of InformationSystem 29/3426 - ID: 355
[2017-02-10 17:57:45] Migrating change history of InformationSystem 30/3426 - ID: 357
[2017-02-10 18:04:15] Migrating change history of InformationSystem 31/3426 - ID: 361
[2017-02-10 18:06:26] Migrating change history of InformationSystem 32/3426 - ID: 363
[2017-02-10 18:24:01] Migrating change history of InformationSystem 33/3426 - ID: 365
[2017-02-10 18:34:53] Migrating change history of InformationSystem 34/3426 - ID: 367
[2017-02-10 18:48:56] Migrating change history of InformationSystem 35/3426 - ID: 369
[
"	"10/Feb/17 7:33 PM;armin.joachimsmeyer@axa.de;anbei der komplette log von heute

[^migration.log] _(305 kB)_"	"14/Feb/17 9:27 AM;cst;Sehr geehrter Herr Joachimsmeyer,

vielen Dank für Ihre Antwort.

Bei der letzten Durchführung hat die komplette Migration 7 Stunden gedauert. 
Wurde die Migration durch die lange Dauer händisch abgebrochen, oder ist in der Konsole ein Fehler aufgetaucht.

Also werde heute nachmittag das Thema bei uns besprechen, die Konvertierung bei uns durch zu führen.
Folgendes Vorgehen, würde hier auch funktionieren:

# Einspielen des DUMPS in eine lokale Oracle-Datenbank (wenn möglich)
# Durchführung der Migration 
# Die konvertierten Daten in die aktive iteraplan Datenbank einspielen 
# Danach hätte man die Daten der migrierte History und die während der Migration geschrieben History-Daten zusammengeführt 

Wegen den ersten Vorschlag, gebe ich Ihnen im laufe des Tages bescheid. 

Viele Grüße,

Christoph Stangl - iteraplan Support
"	"15/Feb/17 1:05 PM;cst;Wie telefonisch besprochen, werde ich die Migration übers Wochenende laufen lassen und Ihnen die  LOG-Dateien zur Verfügung stellen.
Gerne übernehmen wir auch zur Umstellung auf die 5.5 die History-Migration für Sie, sollte sich die Dauer der Migration nicht verändern.

Viele Grüße,

Christoph Stangl - iteraplan Support "	"06/Mar/17 8:44 AM;cst;Die Migration ist durchgelaufen und die Daten wurden als DB-DUMP per Mail an Sie verschickt.

Sollte dies erfolgreich sein, können wir hier gern einen Termin zum ""live"" Durchlauf vereinbaren.

Viele Grüße,

Christoph Stangl - iteraplan Support"	"06/Mar/17 3:16 PM;armin.joachimsmeyer@axa.de;Hallo Herr Stangl,

Leider klappt bei uns der Import nicht, da wir noch Oracle 11 im
Einsatz haben.
Können sie den Dump nochmal mit dem Parameter VERSION=11.2.0
erzeugen?
Es wäre nett, wenn ich den dann per Browser herunterladen kann,
die Mail muss ich immer manuell aus der Quarantäne holen lassen, da der Inhalt
verschlüsselt ist.

Allerbesten Dank
Armin Joachimsmeyer
"	"07/Mar/17 7:45 AM;cst;Guten Morgen Herr Joachimsmeyer,

habe Ihnen den DUMP für Oracle 11g an das Ticket mit angehängt.

Wenn Sie 7zip nicht öffnen können, muss ich Ihnen den DUMP auf einem anderen Weg bereit stellen. 

[^dpdump.7z]

Viele Grüße,

Christoph Stangl - iteraplan Support "	"07/Mar/17 2:57 PM;armin.joachimsmeyer@axa.de;Hallo, nach dem Einspielen des Dumps bekomme ich beim Anmelden die Fehlermeldung:
LOGIN_DB_SCHEMA_NOT_AVAILABLE

Hier der Log dazu:
#2017-03-07 14:54:30,065 [ajp-nio-10.174.120.8-13308-exec-1] ERROR de.iteratec.iteraplan.security.LoginClientInitializationSuccessHandler  null / nuljava.lang.IllegalArgumentException: No enum constant de.iteratec.iteraplan.model.user.TypeOfFunctionalPermission.                                    at java.lang.Enum.valueOf(Enum.java:238)                                                                                                           at de.iteratec.iteraplan.persistence.util.StringEnumUserType.nullSafeGet(StringEnumUserType.java:127)                                              at org.hibernate.type.CustomType.nullSafeGet(CustomType.java:110)                                                                                  at org.hibernate.type.AbstractType.hydrate(AbstractType.java:85)                                                                                   at org.hibernate.persister.entity.AbstractEntityPersister.hydrate(AbstractEntityPersister.java:2727)                                               at org.hibernate.loader.Loader.loadFromResultSet(Loader.java:1728)                                                                                 at org.hibernate.loader.Loader.instanceNotYetLoaded(Loader.java:1654)                                                                              at org.hibernate.loader.Loader.getRow(Loader.java:1543)                                                                                            at org.hibernate.loader.Loader.getRowFromResultSet(Loader.java:727)                                                                                at org.hibernate.loader.Loader.processResultSet(Loader.java:972)                                                                                   at org.hibernate.loader.Loader.doQuery(Loader.java:930)                                                                                            at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:336)                                                             at org.hibernate.loader.Loader.doQueryAndInitializeNonLazyCollections(Loader.java:306)                                                             at org.hibernate.loader.Loader.loadCollectionBatch(Loader.java:2355)                                                                               at org.hibernate.loader.collection.plan.LegacyBatchingCollectionInitializerBuilder$LegacyBatchingCollectionInitializer.initialize(LegacyBatchingCo at org.hibernate.persister.collection.AbstractCollectionPersister.initialize(AbstractCollectionPersister.java:682)                                 at org.hibernate.event.internal.DefaultInitializeCollectionEventListener.onInitializeCollection(DefaultInitializeCollectionEventListener.java:75)  at org.hibernate.internal.SessionImpl.initializeCollection(SessionImpl.java:1991)                                                                  at org.hibernate.collection.internal.AbstractPersistentCollection$4.doWork(AbstractPersistentCollection.java:550)                                  at org.hibernate.collection.internal.AbstractPersistentCollection.withTemporarySessionIfNeeded(AbstractPersistentCollection.java:248)              at org.hibernate.collection.internal.AbstractPersistentCollection.initialize(AbstractPersistentCollection.java:546)                                at org.hibernate.collection.internal.AbstractPersistentCollection.read(AbstractPersistentCollection.java:133)                                      at org.hibernate.collection.internal.PersistentSet.iterator(PersistentSet.java:163)                                                                at de.iteratec.iteraplan.common.UserContext$Permissions.initPermissionsFunctional(UserContext.java:1160)                                           at de.iteratec.iteraplan.common.UserContext$Permissions.<init>(UserContext.java:503)                                                               at de.iteratec.iteraplan.common.UserContext.<init>(UserContext.java:125)                                                                           at de.iteratec.iteraplan.presentation.UserContextInitializationServiceImpl.createAndStoreUserContext(UserContextInitializationServiceImpl.java:159 at de.iteratec.iteraplan.presentation.UserContextInitializationServiceImpl.access$200(UserContextInitializationServiceImpl.java:54)                at de.iteratec.iteraplan.presentation.UserContextInitializationServiceImpl$StoreContextCallback.doInTransaction(UserContextInitializationServiceIm at de.iteratec.iteraplan.presentation.UserContextInitializationServiceImpl$StoreContextCallback.doInTransaction(UserContextInitializationServiceIm at org.springframework.transaction.support.TransactionTemplate.execute(TransactionTemplate.java:133)                                               at de.iteratec.iteraplan.presentation.UserContextInitializationServiceImpl.initializeUserContext(UserContextInitializationServiceImpl.java:83)     at de.iteratec.iteraplan.security.LoginClientInitializationSuccessHandler.onAuthenticationSuccess(LoginClientInitializationSuccessHandler.java:42)
"	"07/Mar/17 4:28 PM;armin.joachimsmeyer@axa.de;Hallo,
leider bleibt noch ein Fehler:
1810 
2017-03-07 16:16:56,921 [ajp-nio-10.174.120.8-13308-exec-3] ERROR 
de.iteratec.iteraplan.presentation.rest.resource.data.DataResource  null
 / null 2D5DB2FA55FA37BEE60FD273DC86Bxxx error 289   - 
java.lang.IllegalStateException: 
java.util.concurrent.ExecutionException: 
de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data loading failed: 1811
 de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data could not be loaded in iteraplan due to an exception in 
hibernate: 1812  org.hibernate.exception.SQLGrammarException: could not extract ResultSet1813
 de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: 
java.lang.IllegalStateException: 
java.util.concurrent.ExecutionException: 
de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data loading failed: 1814
 de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data could not be loaded in iteraplan due to an exception in 
hibernate: 1815  org.hibernate.exception.SQLGrammarException: could not extract ResultSet1816 	at de.iteratec.iteraplan.elasticmi.m3c.SimpleM3C$ErrorM3C.getRMetamodel(SimpleM3C.java:93)1817 	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.getRMetamodel(FutureM3C.java:71)1818 	at de.iteratec.iteraplan.elasticmi.m3c.FutureOrSimpleM3C.getRMetamodel(FutureOrSimpleM3C.java:53)1819 	at de.iteratec.iteraplan.elasticmi.m3c.SuccessorM3C.getRMetamodel(SuccessorM3C.java:105)1820 	at de.iteratec.iteraplan.elasticmi.ElasticMiContext.updateContext(ElasticMiContext.java:83)1821 	at de.iteratec.iteraplan.elasticmi.ElasticMiContext.getContextMetamodel(ElasticMiContext.java:134)1822
 	at 
de.iteratec.iteraplan.presentation.rest.representation.JsonModelRepresentationHandler.process(JsonModelRepresentationHandler.java:30)1823 	at de.iteratec.iteraplan.presentation.rest.resource.AResource.process(AResource.java:124)1824 	at de.iteratec.iteraplan.presentation.rest.resource.data.DataResource.getJson(DataResource.java:52)1825 	at de.iteratec.iteraplan.presentation.rest.resource.data.ADataResource.doGetResource(ADataResource.java:50)1826 	at de.iteratec.iteraplan.presentation.rest.resource.AResource.getResource(AResource.java:149)1827 	at sun.reflect.GeneratedMethodAccessor589.invoke(Unknown Source)1828 	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)1829 	at java.lang.reflect.Method.invoke(Method.java:498)1830 	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:524)1831 	at org.restlet.resource.ServerResource.get(ServerResource.java:743)1832 	at org.restlet.resource.ServerResource.doHandle(ServerResource.java:618)1833 	at org.restlet.resource.ServerResource.doNegotiatedHandle(ServerResource.java:679)1834 	at org.restlet.resource.ServerResource.doConditionalHandle(ServerResource.java:357)1835 	at org.restlet.resource.ServerResource.handle(ServerResource.java:1014)1836 	at org.restlet.resource.Finder.handle(Finder.java:246)1837 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1838 	at org.restlet.routing.Filter.handle(Filter.java:206)1839 	at org.restlet.routing.Router.doHandle(Router.java:431)1840 	at org.restlet.routing.Router.handle(Router.java:648)1841 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1842 	at org.restlet.routing.Filter.handle(Filter.java:206)1843 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1844 	at org.restlet.routing.Filter.handle(Filter.java:206)1845 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1846 	at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:155)1847 	at org.restlet.routing.Filter.handle(Filter.java:206)1848 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1849 	at org.restlet.routing.Filter.handle(Filter.java:206)1850 	at org.restlet.engine.CompositeHelper.handle(CompositeHelper.java:211)1851 	at org.restlet.engine.application.ApplicationHelper.handle(ApplicationHelper.java:84)1852 	at org.restlet.Application.handle(Application.java:384)1853 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1854 	at org.restlet.routing.Filter.handle(Filter.java:206)1855 	at org.restlet.routing.Router.doHandle(Router.java:431)1856 	at org.restlet.routing.Router.handle(Router.java:648)1857 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1858 	at org.restlet.routing.Filter.handle(Filter.java:206)1859 	at org.restlet.routing.Router.doHandle(Router.java:431)1860 	at org.restlet.routing.Router.handle(Router.java:648)1861 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1862 	at org.restlet.engine.application.StatusFilter.doHandle(StatusFilter.java:155)1863 	at org.restlet.routing.Filter.handle(Filter.java:206)1864 	at org.restlet.routing.Filter.doHandle(Filter.java:159)1865 	at org.restlet.routing.Filter.handle(Filter.java:206)1866 	at org.restlet.engine.CompositeHelper.handle(CompositeHelper.java:211)1867 	at org.restlet.Component.handle(Component.java:406)1868 	at org.restlet.Server.handle(Server.java:516)1869 	at org.restlet.engine.connector.ServerHelper.handle(ServerHelper.java:72)1870 	at org.restlet.engine.adapter.HttpServerHelper.handle(HttpServerHelper.java:152)1871 	at org.restlet.ext.servlet.ServerServlet.service(ServerServlet.java:1118)1872 	at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)1873 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)1874 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1875 	at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)1876 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1877 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1878 	at org.springframework.orm.hibernate5.support.OpenSessionInViewFilter.doFilterInternal(OpenSessionInViewFilter.java:151)1879 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)1880 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1881 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1882 	at de.iteratec.iteraplan.presentation.ContextFilter.doFilter(ContextFilter.java:83)1883 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1884 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1885 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)1886 	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)1887 	at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)1888 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1889 	at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)1890 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1891
 	at 
org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)1892 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1893
 	at 
org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)1894 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1895 	at org.springframework.security.web.authentication.www.BasicAuthenticationFilter.doFilter(BasicAuthenticationFilter.java:150)1896 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1897 	at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)1898 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1899
 	at 
org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)1900 	at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)1901 	at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)1902 	at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)1903 	at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)1904 	at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)1905 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1906 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1907 	at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)1908 	at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)1909 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1910 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1911 	at de.axa.iteraplan.axaAnpassungen.SSOFilter.doFilter(SSOFilter.java:44)1912 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1913 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1914 	at de.axa.alert.monitor.ExceptionFilter.doFilter(ExceptionFilter.java:92)1915 	at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)1916 	at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)1917 	at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)1918 	at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)1919 	at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:614)1920 	at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)1921 	at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)1922 	at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)1923 	at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)1924 	at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)1925 	at org.apache.coyote.ajp.AbstractAjpProcessor.process(AbstractAjpProcessor.java:873)1926 	at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)1927 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)1928 	at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)1929 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)1930 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)1931 	at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)1932 	at java.lang.Thread.run(Thread.java:745)1933
 Caused by: java.lang.IllegalStateException: 
java.util.concurrent.ExecutionException: 
de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data loading failed: 1934
 de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data could not be loaded in iteraplan due to an exception in 
hibernate: 1935  org.hibernate.exception.SQLGrammarException: could not extract ResultSet1936 	... 117 more1937
 Caused by: java.util.concurrent.ExecutionException: 
de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data loading failed: 1938
 de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data could not be loaded in iteraplan due to an exception in 
hibernate: 1939  org.hibernate.exception.SQLGrammarException: could not extract ResultSet1940 	at java.util.concurrent.FutureTask.report(FutureTask.java:122)1941 	at java.util.concurrent.FutureTask.get(FutureTask.java:206)1942 	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.extractFromFuture(FutureM3C.java:95)1943 	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.isReady(FutureM3C.java:63)1944 	at de.iteratec.iteraplan.elasticmi.m3c.FutureOrSimpleM3C.isReady(FutureOrSimpleM3C.java:65)1945 	at de.iteratec.iteraplan.elasticmi.m3c.SuccessorM3C.replaceCurrentIfNeccessary(SuccessorM3C.java:138)1946 	at de.iteratec.iteraplan.elasticmi.m3c.SuccessorM3C.isReady(SuccessorM3C.java:98)1947 	at de.iteratec.iteraplan.elasticmi.ElasticMiContext.updateContext(ElasticMiContext.java:76)1948 	at de.iteratec.iteraplan.elasticmi.ElasticMiContext.getContextMetamodel(ElasticMiContext.java:134)1949
 	at 
de.iteratec.iteraplan.presentation.rest.representation.JsonModelRepresentationHandler.process(JsonModelRepresentationHandler.java:30)1950 	at de.iteratec.iteraplan.presentation.rest.resource.AResource.process(AResource.java:124)1951 	at de.iteratec.iteraplan.presentation.rest.resource.data.DataResource.getJson(DataResource.java:52)1952 	at de.iteratec.iteraplan.presentation.rest.resource.data.ADataResource.getDefault(ADataResource.java:90)1953 	at de.iteratec.iteraplan.presentation.rest.resource.data.ADataResource.doGetResource(ADataResource.java:46)1954 	at de.iteratec.iteraplan.presentation.rest.resource.AResource.getResource(AResource.java:149)1955 	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)1956 	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)1957 	... 105 more1958 Caused by: de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl model and data loading failed: 1959
 de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data could not be loaded in iteraplan due to an exception in 
hibernate: 1960  org.hibernate.exception.SQLGrammarException: could not extract ResultSet1961 	at de.iteratec.iteraplan.businesslogic.exchange.elasticmi.IteraplanMiLoadTask.call(IteraplanMiLoadTask.java:110)1962 	at de.iteratec.iteraplan.businesslogic.exchange.elasticmi.IteraplanMiLoadTask.call(IteraplanMiLoadTask.java:45)1963 	at java.util.concurrent.FutureTask.run(FutureTask.java:266)1964 	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)1965 	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)1966 	... 1 more1967
 Caused by: 
de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl 
model and data could not be loaded in iteraplan due to an exception in 
hibernate: 1968  org.hibernate.exception.SQLGrammarException: could not extract ResultSet1969 	at de.iteratec.iteraplan.businesslogic.exchange.elasticmi.IteraplanMiLoadTask.call(IteraplanMiLoadTask.java:100)1970 	... 5 more"	"07/Mar/17 4:33 PM;armin.joachimsmeyer@axa.de;In Kurzform:
Beim Aufruf von
.../iteraplan/api/data
bekomme ich:

java.lang.IllegalStateException: java.util.concurrent.ExecutionException: de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl model and data loading failed: 
de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: IteraQl model and data could not be loaded in iteraplan due to an exception in hibernate: 
 org.hibernate.exception.SQLGrammarException: could not extract ResultSet"	"08/Mar/17 9:13 AM;cst;Guten Morgen Herr Joachimsmeyer,

können wir kurz telefonieren.

Habe die Ursache des Problems herausfinden können.

Grüße,

Christoph Stangl - iteraplan Support"	08/Mar/17 10:58 AM;cst;[^iteraplan5.5.0_Patch_Single_Element_View_Attributes.zip]	"08/Mar/17 11:01 AM;cst;So habe das Problem behoben und diesen DUMP ausführlich getestet.
Habe Ihnen diesen an das Ticket mit angehängt. 

[^dpdump.7z]

Zusätzlich erhalten Sie mit dieser Nachricht das aktuelle Service-Release für ein Anzeigeproblem in der Singel Element View. 

[^iteraplan5.5.0_Patch_Single_Element_View_Attributes.zip]

Viele Grüße,

Christoph Stangl - iteraplan Support "	"09/Mar/17 10:25 AM;armin.joachimsmeyer@axa.de;Der Timeout:

de.iteratec.iteraplan.elasticmi.exception.ElasticMiException: java.lang.IllegalStateException: java.util.concurrent.TimeoutException
	at de.iteratec.iteraplan.elasticmi.m3c.SimpleM3C$ErrorM3C.getRMetamodel(SimpleM3C.java:93)
	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.getRMetamodel(FutureM3C.java:71)
	at de.iteratec.iteraplan.elasticmi.m3c.FutureOrSimpleM3C.getRMetamodel(FutureOrSimpleM3C.java:53)
	at de.iteratec.iteraplan.elasticmi.m3c.SuccessorM3C.getRMetamodel(SuccessorM3C.java:105)
	at de.iteratec.iteraplan.businesslogic.service.scriptContainer.ScriptServiceImpl.discover(ScriptServiceImpl.java:81)
	at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)
	at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)
	at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)
	at java.lang.reflect.Method.invoke(Method.java:497)
	at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)
	at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)
	at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)
	at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)
	at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)
	at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)
	at com.sun.proxy.$Proxy137.discover(Unknown Source)
	at de.iteratec.iteraplan.businesslogic.service.scriptContainer.ApplicationInitListener.onApplicationEvent(ApplicationInitListener.java:29)
	at de.iteratec.iteraplan.businesslogic.service.scriptContainer.ApplicationInitListener.onApplicationEvent(ApplicationInitListener.java:18)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.invokeListener(SimpleApplicationEventMulticaster.java:163)
	at org.springframework.context.event.SimpleApplicationEventMulticaster.multicastEvent(SimpleApplicationEventMulticaster.java:136)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:381)
	at org.springframework.context.support.AbstractApplicationContext.publishEvent(AbstractApplicationContext.java:335)
	at org.springframework.context.support.AbstractApplicationContext.finishRefresh(AbstractApplicationContext.java:855)
	at org.springframework.context.support.AbstractApplicationContext.refresh(AbstractApplicationContext.java:541)
	at org.springframework.web.context.ContextLoader.configureAndRefreshWebApplicationContext(ContextLoader.java:446)
	at org.springframework.web.context.ContextLoader.initWebApplicationContext(ContextLoader.java:328)
	at org.springframework.web.context.ContextLoaderListener.contextInitialized(ContextLoaderListener.java:107)
	at org.apache.catalina.core.StandardContext.listenerStart(StandardContext.java:4729)
	at org.apache.catalina.core.StandardContext.startInternal(StandardContext.java:5167)
	at org.apache.catalina.util.LifecycleBase.start(LifecycleBase.java:150)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1408)
	at org.apache.catalina.core.ContainerBase$StartChild.call(ContainerBase.java:1398)
	at java.util.concurrent.FutureTask.run(FutureTask.java:266)
	at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)
	at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)
	at java.lang.Thread.run(Thread.java:745)
Caused by: java.lang.IllegalStateException: java.util.concurrent.TimeoutException
	... 40 more
Caused by: java.util.concurrent.TimeoutException
	at java.util.concurrent.FutureTask.get(FutureTask.java:205)
	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.extractFromFuture(FutureM3C.java:95)
	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.ensureCanReturn(FutureM3C.java:114)
	at de.iteratec.iteraplan.elasticmi.m3c.FutureM3C.getRMetamodel(FutureM3C.java:70)
	... 38 more"	"13/Mar/17 1:47 PM;cst;Guten Tag Herr Joachimsmeyer,

haben das Verhalten analysieren und die Ursache herausfinden können.
Hat es bei Ihnen funktioniert z.B. den Speicher zu erhöhen? 

Wenn nicht, lass ich Ihnen hierzu diese Woche ein Service-Release mit geändertem ""Time out"" erstellen.

Viele Grüße,

Christoph Stangl - iteraplan Support"	"13/Mar/17 2:12 PM;armin.joachimsmeyer@axa.de;Guten Tag Herr Stangl,
ich habe einen Workaround gefunden, mit dem komme ich klar, sie brauchen mir daher kein Service-Release zukommen zu lassen.
Aber vielen Dank für das Angebot!

Beste Grüße
Armin Joachimsmeyer"	"13/Mar/17 2:21 PM;cst;Dann schreiben Sie mir bitte in das Ticket, wann wir die History Migration des Live-Systems vornehmen möchten.

Viele Grüße,

Christoph Stangl - iteraplan Support

 

 "	"15/Mar/17 10:59 AM;dominik.wagner@axa.de;Hallo Herr Stangl,

ich werde versuchen, ihnen den Dump Freitag Mittags zur Verfügung zu stellen. Wir würden dann Montags den Dump mit der Umstellung einspielen und den Release Upgrade machen.
Die Umstellung von der Datei 'migration_iteraplan_540_to_550_sqlserver.sql' müsste, soweit ich weiß, auch mit eingeschlossen sein. Alle davor sollten schon gelaufen sein.

Mit Freundlichen Grüßen,
Dominik Wagner"	"15/Mar/17 11:05 AM;cst;Guten Tag Herr Wagner,

vielen Dank für Ihre Antwort.

Da ich am Freitag nicht im Hause bin, wäre es möglich das wir die Umstellung um eine Woche verschieben? 
Wären dann der Freitag den 24.03.2017.

Sollte dies nicht möglich sein, antworten Sie mir einfach in diesem Ticket.

Viele Grüße,

Christoph Stangl - iteraplan Support 

 "	"22/Mar/17 1:31 PM;dominik.wagner@axa.de;Guten Tag Herr Stangl,

ich hoffe es ist nicht zu kurzfristig, aber wir würden den Dump morgen Mittag schicken, und hätten die umgestellte Version gerne am Freitag Morgen zur Verfügung.

Wäre das machbar?

Mit freundlichen Grüßen
Dominik Wagner"	"22/Mar/17 1:33 PM;cst;Hallo Herr Wagner,

wäre erstmal kein Problem, können wir gerne so machen.

Eine Frage vorab, soll die Datenbank auf dem Stand 5.4 bleiben, oder in diesem Zuge auf Version 5.5 hochgehoben werden?
Viele Grüße,

Christoph Stangl - iteraplan Support "	"22/Mar/17 1:38 PM;dominik.wagner@axa.de;Hallo Herr Stangl,

das klingt super, danke!

Die Migration von 5.4 nach 5.5 sollte mit dabei sein, bitte mit hochheben. Wir werden am Freitag auch gleich Iteraplan 5.5 deployen.

Mit freundlichen Grüßen
Dominik Wagner"	"23/Mar/17 1:17 PM;cst;Hallo Herr Wagner,

bis wann kann ich mit den Daten rechnen, um den Vorgang starten zu können? 

Viele Grüße,

Christoph Stangl - iteraplan Support"	"23/Mar/17 1:22 PM;dominik.wagner@axa.de;Hallo Herr Stangl,

die Datei ist 19MB groß, das ist leider zu groß. Wie können wir den Dump sonst noch senden?

Mit freundlichen Grüßen
Dominik Wagner"	"23/Mar/17 1:38 PM;dominik.wagner@axa.de;Hallo Herr Stangl,

als geteiltes ZIP hat es funktioniert,
PW wie 5.5

Besten Dank im Voraus,
Dominik Wagner

[^expdp_spp5.ITERAPLAN_ADM.01.zip] _(9,27 MB)_

[^expdp_spp5.ITERAPLAN_ADM.01.z01] _(10,00 MB)_"	"23/Mar/17 2:06 PM;cst;Klappt und starte mit der Migration.

Viele Grüße,

Christoph Stangl - iteraplan Support"	"24/Mar/17 8:55 AM;cst;Guten Morgen Herr Wagner,

die Migration ist erfolgreich durchgelaufen. 
Habe Ihnen das Update auf die 5.5 mit eingespielt.

[^axa55.7z]^[^axa55.7z]^

Viele Grüße,

Christoph Stangl - iteraplan Support 

PS: Password ist das gleiche"	"24/Mar/17 11:10 AM;armin.joachimsmeyer@axa.de;Hallo,
es sieht erstmal gut aus, allerdings bekomme ich bei der Suche nach Informationssystem mit Suchbegriff (ohne Hochlommata) ""partner"" ein
Exception while calling bridge#get
	class: de.iteratec.iteraplan.model.InformationSystemRelease
	path: runtimePeriod.runtimePeriod.start
"	"24/Mar/17 11:16 AM;cst;Hallo,

Danke für die Antwort.

Können Sie mir bitte den Stacktrace hierzu zukommen lassen, oder wird dieser hier nicht erzeugt.
Nur mit der Fehlermeldung an der Stelle, tue ich mir schwer die Ursache hierfür herauszufinden.

Es kann auch sein, das der Suchindex hier neu erstellt werden muss, oder das Work-Verzeichnis des Tomcats hier einen ungewünschten Effekt auslöst.

Viele Grüße,

Christoph Stangl - iteraplan Support "	"24/Mar/17 11:25 AM;armin.joachimsmeyer@axa.de;Nach einem reload des Suchindex ist der Fehler nun verschwunden :-).
Nochmal allerbesten Dank für die Unterstützung!!!!

Ein schönes Wochenende wünscht Ihnen
Armin Joachimsmeyer

"	"24/Mar/17 11:38 AM;cst;Werde das Ticket hierzu schließen, der Vorgang wollte erfolgreich abgeschlossen.



Viele Grüße,



Christoph Stangl - iteraplan Support"	"24/Mar/17 11:51 AM;armin.joachimsmeyer@axa.de;Hier nochmal der Stacktrace der Vollständigkeit halber:

2017-03-24 11:07:19,989 [ajp-nio-10.174.68.230-10018-exec-18] ERROR de.iteratec.iteraplan.presentation.dialog.GuiController  null / null F4F2FF156B4741D39C0CD58A9E715xxx error 213   - Last resort catching an unhandled Exceptionorg.hibernate.search.bridge.BridgeException: Exception while calling bridge#get    class: de.iteratec.iteraplan.model.InformationSystemRelease    path: runtimePeriod.runtimePeriod.start    at org.hibernate.search.bridge.util.impl.ContextualExceptionBridgeHelper.buildBridgeException(ContextualExceptionBridgeHelper.java:84)    at org.hibernate.search.bridge.util.impl.ContextualExceptionBridgeHelper$TwoWayConversionContextImpl.get(ContextualExceptionBridgeHelper.java:126)    at org.hibernate.search.engine.impl.DocumentBuilderHelper.populateResult(DocumentBuilderHelper.java:125)    at org.hibernate.search.engine.impl.DocumentBuilderHelper.processMetadataRecursivelyForProjections(DocumentBuilderHelper.java:170)    at org.hibernate.search.engine.impl.DocumentBuilderHelper.processMetadataRecursivelyForProjections(DocumentBuilderHelper.java:193)    at org.hibernate.search.engine.impl.DocumentBuilderHelper.processFieldsForProjection(DocumentBuilderHelper.java:144)    at org.hibernate.search.engine.impl.DocumentBuilderHelper.getDocumentFields(DocumentBuilderHelper.java:110)    at org.hibernate.search.query.engine.impl.DocumentExtractorImpl.extractEntityInfo(DocumentExtractorImpl.java:159)    at org.hibernate.search.query.engine.impl.DocumentExtractorImpl.extract(DocumentExtractorImpl.java:196)    at org.hibernate.search.query.engine.impl.HSQueryImpl.queryEntityInfos(HSQueryImpl.java:282)    at org.hibernate.search.query.hibernate.impl.FullTextQueryImpl.list(FullTextQueryImpl.java:199)    at de.iteratec.iteraplan.persistence.dao.SearchDAOImpl.search(SearchDAOImpl.java:99)    at de.iteratec.iteraplan.businesslogic.service.SearchServiceImpl.executeSearchQuery(SearchServiceImpl.java:244)    at de.iteratec.iteraplan.businesslogic.service.SearchServiceImpl.getSearchDTO(SearchServiceImpl.java:152)    at de.iteratec.iteraplan.businesslogic.service.SearchServiceImpl.getSearchBuildingBlocks(SearchServiceImpl.java:121)    at sun.reflect.GeneratedMethodAccessor1607.invoke(Unknown Source)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)    at com.sun.proxy.$Proxy449.getSearchBuildingBlocks(Unknown Source)    at sun.reflect.GeneratedMethodAccessor1607.invoke(Unknown Source)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)    at org.springframework.aop.interceptor.AbstractTraceInterceptor.invoke(AbstractTraceInterceptor.java:115)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)    at org.springframework.aop.interceptor.AbstractTraceInterceptor.invoke(AbstractTraceInterceptor.java:115)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)    at com.sun.proxy.$Proxy449.getSearchBuildingBlocks(Unknown Source)    at sun.reflect.GeneratedMethodAccessor1607.invoke(Unknown Source)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at org.springframework.aop.support.AopUtils.invokeJoinpointUsingReflection(AopUtils.java:302)    at org.springframework.aop.framework.ReflectiveMethodInvocation.invokeJoinpoint(ReflectiveMethodInvocation.java:190)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:157)    at org.springframework.transaction.interceptor.TransactionInterceptor$1.proceedWithInvocation(TransactionInterceptor.java:99)    at org.springframework.transaction.interceptor.TransactionAspectSupport.invokeWithinTransaction(TransactionAspectSupport.java:281)    at org.springframework.transaction.interceptor.TransactionInterceptor.invoke(TransactionInterceptor.java:96)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)    at org.springframework.aop.interceptor.ExposeInvocationInterceptor.invoke(ExposeInvocationInterceptor.java:92)    at org.springframework.aop.framework.ReflectiveMethodInvocation.proceed(ReflectiveMethodInvocation.java:179)    at org.springframework.aop.framework.JdkDynamicAopProxy.invoke(JdkDynamicAopProxy.java:208)    at com.sun.proxy.$Proxy508.getSearchBuildingBlocks(Unknown Source)    at de.iteratec.iteraplan.presentation.dialog.GuiSearchController.searchBuildingBlocksFromIndex(GuiSearchController.java:803)    at de.iteratec.iteraplan.presentation.dialog.GuiSearchController.performSearchAndGetResults(GuiSearchController.java:781)    at de.iteratec.iteraplan.presentation.dialog.GuiSearchController.mainProcessing(GuiSearchController.java:388)    at de.iteratec.iteraplan.presentation.dialog.GuiSearchController.init(GuiSearchController.java:254)    at sun.reflect.NativeMethodAccessorImpl.invoke0(Native Method)    at sun.reflect.NativeMethodAccessorImpl.invoke(NativeMethodAccessorImpl.java:62)    at sun.reflect.DelegatingMethodAccessorImpl.invoke(DelegatingMethodAccessorImpl.java:43)    at java.lang.reflect.Method.invoke(Method.java:498)    at org.springframework.web.method.support.InvocableHandlerMethod.doInvoke(InvocableHandlerMethod.java:222)    at org.springframework.web.method.support.InvocableHandlerMethod.invokeForRequest(InvocableHandlerMethod.java:137)    at org.springframework.web.servlet.mvc.method.annotation.ServletInvocableHandlerMethod.invokeAndHandle(ServletInvocableHandlerMethod.java:110)    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.invokeHandlerMethod(RequestMappingHandlerAdapter.java:814)    at org.springframework.web.servlet.mvc.method.annotation.RequestMappingHandlerAdapter.handleInternal(RequestMappingHandlerAdapter.java:737)    at org.springframework.web.servlet.mvc.method.AbstractHandlerMethodAdapter.handle(AbstractHandlerMethodAdapter.java:85)    at org.springframework.web.servlet.DispatcherServlet.doDispatch(DispatcherServlet.java:959)    at org.springframework.web.servlet.DispatcherServlet.doService(DispatcherServlet.java:893)    at org.springframework.web.servlet.FrameworkServlet.processRequest(FrameworkServlet.java:969)    at org.springframework.web.servlet.FrameworkServlet.doGet(FrameworkServlet.java:860)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:622)    at org.springframework.web.servlet.FrameworkServlet.service(FrameworkServlet.java:845)    at javax.servlet.http.HttpServlet.service(HttpServlet.java:729)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:292)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at org.apache.tomcat.websocket.server.WsFilter.doFilter(WsFilter.java:52)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at de.iteratec.iteraplan.presentation.ContextFilter.doFilter(ContextFilter.java:83)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:330)    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.invoke(FilterSecurityInterceptor.java:118)    at org.springframework.security.web.access.intercept.FilterSecurityInterceptor.doFilter(FilterSecurityInterceptor.java:84)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.access.ExceptionTranslationFilter.doFilter(ExceptionTranslationFilter.java:113)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.authentication.AnonymousAuthenticationFilter.doFilter(AnonymousAuthenticationFilter.java:113)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.servletapi.SecurityContextHolderAwareRequestFilter.doFilter(SecurityContextHolderAwareRequestFilter.java:154)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.authentication.AbstractAuthenticationProcessingFilter.doFilter(AbstractAuthenticationProcessingFilter.java:199)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.authentication.logout.LogoutFilter.doFilter(LogoutFilter.java:110)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.context.SecurityContextPersistenceFilter.doFilter(SecurityContextPersistenceFilter.java:87)    at org.springframework.security.web.FilterChainProxy$VirtualFilterChain.doFilter(FilterChainProxy.java:342)    at org.springframework.security.web.FilterChainProxy.doFilterInternal(FilterChainProxy.java:192)    at org.springframework.security.web.FilterChainProxy.doFilter(FilterChainProxy.java:160)    at org.springframework.web.filter.DelegatingFilterProxy.invokeDelegate(DelegatingFilterProxy.java:346)    at org.springframework.web.filter.DelegatingFilterProxy.doFilter(DelegatingFilterProxy.java:262)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at org.springframework.web.filter.CharacterEncodingFilter.doFilterInternal(CharacterEncodingFilter.java:121)    at org.springframework.web.filter.OncePerRequestFilter.doFilter(OncePerRequestFilter.java:107)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at de.axa.iteraplan.axaAnpassungen.SSOFilter.doFilter(SSOFilter.java:44)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at de.axa.alert.monitor.ExceptionFilter.doFilter(ExceptionFilter.java:92)    at org.apache.catalina.core.ApplicationFilterChain.internalDoFilter(ApplicationFilterChain.java:240)    at org.apache.catalina.core.ApplicationFilterChain.doFilter(ApplicationFilterChain.java:207)    at org.apache.catalina.core.StandardWrapperValve.invoke(StandardWrapperValve.java:212)    at org.apache.catalina.core.StandardContextValve.invoke(StandardContextValve.java:106)    at org.apache.catalina.authenticator.AuthenticatorBase.invoke(AuthenticatorBase.java:614)    at org.apache.catalina.core.StandardHostValve.invoke(StandardHostValve.java:141)    at org.apache.catalina.valves.ErrorReportValve.invoke(ErrorReportValve.java:79)    at org.apache.catalina.valves.AbstractAccessLogValve.invoke(AbstractAccessLogValve.java:616)    at org.apache.catalina.core.StandardEngineValve.invoke(StandardEngineValve.java:88)    at org.apache.catalina.connector.CoyoteAdapter.service(CoyoteAdapter.java:528)    at org.apache.coyote.ajp.AbstractAjpProcessor.process(AbstractAjpProcessor.java:873)    at org.apache.coyote.AbstractProtocol$AbstractConnectionHandler.process(AbstractProtocol.java:670)    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.doRun(NioEndpoint.java:1520)    at org.apache.tomcat.util.net.NioEndpoint$SocketProcessor.run(NioEndpoint.java:1476)    at java.util.concurrent.ThreadPoolExecutor.runWorker(ThreadPoolExecutor.java:1142)    at java.util.concurrent.ThreadPoolExecutor$Worker.run(ThreadPoolExecutor.java:617)    at org.apache.tomcat.util.threads.TaskThread$WrappingRunnable.run(TaskThread.java:61)    at java.lang.Thread.run(Thread.java:745)Caused by: org.hibernate.search.exception.SearchException: HSEARCH000240: Unable to parse value '1398556800000' of field 'runtimePeriod.start' into a Date    at org.hibernate.search.bridge.builtin.StringEncodingDateBridge.get(StringEncodingDateBridge.java:69)    at org.hibernate.search.bridge.util.impl.ContextualExceptionBridgeHelper$TwoWayConversionContextImpl.get(ContextualExceptionBridgeHelper.java:123)    ... 130 more"				
