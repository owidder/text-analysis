Upgrade to iteraplan 5.4	"We tried to upgrade our iteraplan 5.1 test environment to iteraplan 5.4. For that we undeployed iteraplan 5.1, shutdown the tomcat server and executed the following sql-scripts:

1. migration_iteraplan_510_to_520_oracle.sql

2. migration_iteraplan_520_to_530_oracle.sql

3. migration_iteraplan_530_to_540_oracle.sql



We are using the history-feature and prepared (as stated in the upgrade guide) and tried to run the history-migration-tool for iteraplan 5.4. During the execution of this tool we encountered an error which you can find in the attached stacktrace file.



Here are some details regarding the execution environment:

OS: SLES 11 SP3

Java: Oracle JDK 1.7 U51 64-bit

DB: Oracle 12.1.0.2 with bug fix/patch No. 18430870

JDBC-driver: ojdbc7-12.1.0.2.jar

"		Fault	iteraplan Support	02/Nov/16 9:41 AM	28/Nov/16 7:00 AM														"02/Nov/16 9:41 AM;ip.manuel.straesser;

[^stacktrace-history-migration.txt] _(12 kB)_"	"02/Nov/16 10:43 AM;cst;Dear Mr. and Mrs,

thank you for your inquiry. 

Would you please download the following ""History Migration Tool"" to solve the problem.

https://www.iteraplan.de/downloads/basis/iteraplan-historyMigrationTool-2.zip

The user name and password is the same as the orginal ""History Migration Tool"". 

Greetings,

Christoph Stangl - iteraplan Support 
"	"02/Nov/16 10:53 AM;ip.manuel.straesser;Thank you for your answer. With the new version of the history-migration-tool the runs successfully with the ending line: [INFO ] [2016-11-02 10:50:14] (iteraplan.historyMigrationTool.HistoryLogger) Migration done

During execution the following two lines are shown multiple times:
[WARN ] [2016-11-02 10:49:42] (hibernate.orm.deprecation) HHH90000003: Use of DOM4J entity-mode is considered deprecated
[WARN ] [2016-11-02 10:49:48] (hibernate.orm.deprecation) HHH90000016: Found use of deprecated 'collection property' syntax in HQL/JPQL query [null.elements]; use collection function syntax instead [elements(null)].

Can we ignore these messages or shows this a problem with the migration?"	"02/Nov/16 11:46 AM;cst;Thank you for your reply.

This ""Warning"" has no effect to the migration. 
You can ignore these.

Greetings,

Christoph Stangl - iteraplan Support "	"09/Nov/16 9:03 AM;ip.manuel.straesser;We tried to upgrade our next staging environment from iteraplan 5.1 to iteraplan 5.4 but we encountered some errors with 3 elements during the history migration. I have attached the migration.log and the iteraplan.log. In these files we have replaced the user and element names. If i try to view the history of these 3 elements in iteraplan 5.1 i get the following message in the history tab ""Failed to load History content"".

[^iteraplan.log] _(129 kB)_

[^migration.log] _(94 kB)_"	"09/Nov/16 9:18 AM;cst;Did you upgraded your Database from Version 5.1 to 5.4?

The migration could onyl executed from a upgraded database 5.4. 



When defect history entries are found by the migration tool, this entries are be skipped.



Greetings,



Christoph Stangl - iteraplan Support 

"	09/Nov/16 9:24 AM;ip.manuel.straesser;Yes, we executed the same steps as mentioned below. So we had executed the history-migration-tool on an iteraplan 5.4 oracle database.	"09/Nov/16 9:54 AM;cst;I checked the Log-Files and the migration was successful.

The three errors are histroy entrys, which are not correct in the old history (corrupted entries for time).  
All other points of the history are transfered in the new history. 

For this errors whe have no  technical sollution.  

Greetings,

Christoph Stangl - iteraplan Support"	"09/Nov/16 10:29 AM;ip.manuel.straesser;Thank you for your reply.
Will these errors stay within the migrated history or will there be holes in the history for these elements?"	"09/Nov/16 10:35 AM;cst;In version 5.1 the history entry for these elements cannot be loaded,
but in the new history the history elements can be loaded, but there are ""holes"".  

"																																													
