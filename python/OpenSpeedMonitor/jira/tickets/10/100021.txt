Internet Explorer: After scrolling: Selection of a box resets view in IFD, NCD and LSD	"Reproduce:



* Use IE11

* Open IFD in new client

* Scroll down a bit

* Select a node



Expected:

* The node is selected.



Result:

* The page jumps back to the top and the node cannot be selected

"		Bug	iteraplan Thunderduck	21/Oct/16 11:08 AM	29/Nov/16 10:23 AM														"21/Oct/16 3:03 PM;roia;The same issue is present in the NCD diagram. The reason is that we don't use the diagram's scrolling, but the container's div.

Solution: use the diagram's scrolling instead of container's scroll: 

{code}

$(go.Diagram,

...

                allowVerticalScroll: true,

                allowHorizontalScroll: true,

{code}

then *do not set the size of a container* equal to the size of a diagram with this part

{code}

        var bounds = informationFlowDiagram.computeBounds();

        informationFlowDiagram.div.style.width = Math.round(bounds.width) + 'px';

        informationFlowDiagram.div.style.height = Math.round(bounds.height) + 'px';

{code}

Update the template {{ifdTemplate.html}} to not use the ng-style=""getDIVContainerStyle()"", cleanup inline CSS styles, make the diagram container DIV to have proper dimensions before the diagram is drawn. Necessary changes:

from:

{code}

<div id=""informationFlowDiagram"" style=""display: inline-block;""></div>

{code}



to:

{code}

<div id=""informationFlowDiagram"" ng-auto-height=""-50""></div>

{code}



See the attached patch file.



But here we get the problem with download, because we will get only the visible part of a diagram, not a full.

Possible solutions - use some GoJS feature to get the full diagram or redraw it before download in a full-size container

Export with these settings: https://gojs.net/latest/intro/makingSVG.html:

{quote}Calling makeSvg with an object that has the ""scale"" property set to 1 results in a scene that includes the whole diagram, not just the area visible in the viewport. However, the empty areas around the document bounds are trimmed away.

{quote}

Works well for SVG download.

Issue with GoJS {{makeImage()}} method (https://gojs.net/latest/intro/makingImages.html): we have the diagram in separate parts (diagram, legend, 4 parts of MPD diagram) and cannot combine them into one image with GoJS



 Maybe, not redraw, but just scale to fit in container or resize the container, then download and then revert everything back...



So as it works in the other browsers, probably GoJS support know the other solution."	22/Oct/16 10:22 AM;msr;The same behaviour is in the Information Flow Diagram, the Nested Cluster Diagram and the Landscape Diagram.	"27/Oct/16 5:16 PM;pma;DONE:

* Scroll function in all diagrams implemented

* SVG full download possible



TODO:

* -jpeg, png, pdf full download not possible yet (only downloads the part which is visible in the current window)- thanks to [~roia] !

* remove double scrollbars in ncd.."	"04/Nov/16 3:11 PM;roia;[~pma], please take a look at the attached headerDownloadService-fullSizeDownload.js.patch

It's not completely finished, but I think, it could help"	"11/Nov/16 11:48 AM;pma;Double scrollbar in ncd:

* Open IE

* Enter an existing URL of the ncd, e.g. http://localhost:9002/#/ncd?innerColoringPalette.INACTIVE=rgb(136,174,217)&innerColoringProperty=B10&innerColoringPalette.KEY_FOR_LEGEND_UNDEFINED=rgb(153,153,153)&innerColoringType=enum&innerColoringPalette.CURRENT=rgb(175,206,168)&innerColoringPalette.TARGET=rgb(215,157,173)&innerColoringPalette.PLANNED=rgb(246,223,149)&relationFromInnerToOuter=B19&featureName=%2Fncd 





-RECENTLY:-

* double scrollbars seen as attached



-SHOULD BE:- FIXED

* only one (the inner) scrollbar 

-> IE is handling differently with overflow as chrome or firefox.."																																																		
