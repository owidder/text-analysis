Data reload or route-change (Client) when attribute(s) change	"*Summary:*

Create a new service which reloads *all data* (e.g. datamodel, metamodel, responsibility attributes, user-settings, ...) and the current page. The same data is already loaded after login

The trigger is 

* -either time-based (i.e. 1 minute without clicks)- (not necessary because of reset-promises)

* or a route-change (to a route which starts *not* with /attributes).



If the current page becomes invalid, please redirect to the home screen.



During the countdown of 1 minute a red message is visible in the header: ""Upcoming data reload"" (German: ""Bevorstehendes Modell-Neuladen"")



The service can be triggered multiple times. And the countdown of 1 minute restarts every time.



During the data-loading show the message ""Please wait. Data is reloaded because of metamodel changes..."" (German: ""Bitte warten Sie. Die Daten werden neu geladen aufgrund von Metamodell-Ã„nderungen ..."")



Keep in mind to document this behaviour in the user guide (all attribute changes will be visible after changing the view).



This new reload-service will be used for all changes of attributes (create, update and deletes).



----



h2. Implementation/usage Details:



When some attributes are changed, the {{""triggerDataReset""}} event should be emited. E.g.

{code}

$scope.$emit(""triggerDataReset"");

{code}



This listener for this event is implemented in the app.js and when this event is triggered the property {{""resetData""}} of the $rootScope is set to true.



When current route changes, the {{$rootScope.resetData}} property is checked. If necessary, the data model is reset. This is implemented in the {{'$routeChangeStart'}} listener.

Routing between the attributes list, attributes single page, duration attribute single page does not trigger the data reload. This is implemented with the route's property {{""ignoreDataReset""}}.

"		New Feature	iteraplan Speedbird	22/Dec/16 8:51 AM	21/Feb/17 1:14 PM														"06/Jan/17 3:04 PM;roia;What if this 1 minute countdown happens if user is in the middle of some editing action?

What if, as a result of data reload current page becomes not valid (e.g, user is viewing ""Single element"" page and in result of data reload current Business Object becomes deleted)

..."	"07/Feb/17 11:40 AM;msr;Can we detect, if the user is in the middle of some editing action? If not, the reload will cancel his action.

If the current page becomes invalid, please redirect to the home screen-"	07/Feb/17 12:00 PM;roia;We can try to detect. E.g., editor in the list is activated/deactivated.	08/Feb/17 10:21 AM;roia;The detection of the "edit" state is not actual, because we decided not to use the refresh by timer, but just by the route change, which is intentionally triggered by user.	17/Feb/17 1:29 PM;dmkh;Cannot resolve because of missing backend functionality																																																		
