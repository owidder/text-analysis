REST-API testen/anpassen für RQP2-0-ABN-WPT-Score-Berechnungen	"Der iteraSpeedMonitor verfügt über ein REST-API. Dieses wurde ursprünglich von Frank.Rollmann@otto.de angefragt. Es liefert Jobs, Locations und Results aus der MySQL-DB des ism als XML und JSON. Die Aufrufe sind hier spezifiziert:
http://wpt.otto.iteratec.de/

Es ist / sind 
* zu prüfen, ob die API noch funktioniert.
* die Teile / Aufrufe zu identifizieren, die nicht mehr funktionieren, bzw. nach der Multistep-Umstellung fachlich keinen Sinn mehr machen.
* die erfroderlichen Anpassungen mit Frank Rollmann zu kommunizieren.
* die nicht mehr funktionierenden Aufrufe umzustellen, bzw. zu fixen."		Task	OpenSpeedMonitor	26/Aug/13 10:46 AM	07/Oct/13 1:41 PM														"02/Sep/13 9:32 AM;jwerschmoeller;Anforderungen für die RQP2.0 Integration bzw. die notwendige Schnittstelle (siehe docx)

ANF-01 (COULD)
Die WPT-Abnahmejobs im Monitor laufen kontinuierlich (24h) an 7 Tagen in der Woche und werden regelmäßig im Rahmen einer Rufbereitschaft überwacht. Die Messergebnisse werden für einen Zeitraum von 2 Monaten im Monitor vorgehalten. Alle Messergebnisse die einem Release-Artefakt zugeordnet werden können, können im WPT-Monitor per REST-Aufruf mit einem entsprechenden Flag versehen werden, um so für die Archivierung ""als relevant"" gekennzeichnet zu werden.

ANF-02 (MUST)
Nachdem die Performancemessungen durchgeführt wurden, werden die CSI-Performanceergebnisse für die relevanten Seiten und den Abnahme-Messzeitraum automatisiert über die REST-API des IteraSpeedMonitors abgefragt. Die CSI-Werte werden dann pro Seite gegen die CSI-Bereiche abgeglichen (siehe Abnahmekriterien), welche in Form einer CSV-Datei hinterlegt wurden. Der Abnahmescore für den Performancetest ergibt sich dann aus der Summe der Abnahme-Scores für die einzelnen Seiten.

Die Meßzeiträume sind je nach Klassifikation des zugehörigen Releases entweder 45min oder 90min abzüglich Hintergrundzeiten wie z.B. Deployment/Buildzeiten (5min).
Die Messung gibt dabei von einem Start-Timestamp bis zu einem End-Timestamp die CSI-Werte für die Seiten in geeigneter Form (CSV,XML) (TBD) zurück.

Ansprechpartner für die RQP-2.0-Einbindung ist
Mas, Alexander (ITERATEC) <Alexander.Mas@ottogroup.com>

"	03/Sep/13 8:16 AM;mzeimer;Gespräch mit Uwe Heute Morgen hat ergeben, dass diese Feature noch nicht separat beauftragt ist. Ggf. wird dieses über die Testcenterbeauftragung realisiert. Planung folgt.	25/Sep/13 10:36 AM;jwerschmoeller;Frank muss nur informiert werden. Die REST-API-Festlegungen sind nur mit Alex notwendig.	25/Sep/13 12:02 PM;rhe;ACHTUNG: Es muss nur die Schnittstelle bereitgestellt werden für IAL-53	"01/Oct/13 11:39 AM;mzeimer;Fertige Spezifikation - 2013-10-01 (Mail von Nils um 11:38)

die folgende REST-Anfrage werden wir implementieren:
•	Alle Results zwischen Start- und End-Zeitpunkt:
[GET]  http://iteraspeedmonitor.wpt.otto.iteratec.de/rest/sytem/$system/resultsbetween/$timestampFrom/$timestampTo

URL-Bestandteile
o	$system
Name des Systems (z.B. ""Lhotse live"" oder ""OTTO classic"" oder ""LPT"")
o	$timestampFrom / $timestampTo
ISO-8601 -> yyyyMMDDThhmmssZ (mit Timzone-Konstante Z, z.B. 20121214T011500Z für den 14.12.2012, 01:15 Uhr)
GET-Parameter (URL-encoded anzugeben):
o	page
Name der Page (z.B. ""HP"" oder ""MES"" oder ""WK"")
o	step
Name des Mess-Schrittes (z.B. ""WK mit einem Artikel"" oder ""WK mit 15 Artikeln"")
o	browser
Name des Browsers (z.B. ""IE"" oder ""FF"")
o	location
Name der Location, auf der das Ergebnis gemessen wurde (z.B. ""Hetzner01"" oder ""netlab02"")
Wenn einzelne dieser 4 Parameter nicht gesetzt werden, erfolgt die Abfrage mit einer Wildcard.
Für die Score-Berechnung werden vermutlich nur die Parameter page und browser benötigt. 
Die Ergebnis-Menge kommt als JSON und beinhaltet für jedes Ergebnis-Objekt folgendes:
•	CSI-Wert in % (-> Für die Score-Berechnung relevant)
Double zwischen 0 und 100 mit zwei Nachkommsatellen, deutsches Format
•	Eine Reihe weiterer Mess-Größen (z.B. die doc-ready-time -> Für die Score-Berechnung erst mal nicht relevant)
Integer
•	Die 4 oben genannten Eigenschaften, auf welche die angefragte Ergebnis-Menge via GET-Parameter auch eingeschränkt werden kann.
String, UTF-8-codiert
Zudem wird es 5 REST-Anfragen geben, um eine JSON-Liste der folgenden Objekte zu erhalten:
•	Systeme
•	Pages
•	Mess-Schritte
•	Browser
•	Locations"	"01/Oct/13 5:47 PM;mzeimer;Erste Lösung in:
de.iteratec.ism.RestApiController

Action:
getResults(ResultsRequestCommand)

Mithilfe von:

http://code.google.com/p/jsonbeans/

da die groovy und grails Standardengine nicht einfach Beans in Collections schreiben kann.

OFFEN: Sicherheitsabfragen, weitere Tests, Doku, Einschränkung des max. Zeitraums auf 2 Tage."	"07/Oct/13 1:40 PM;mzeimer;Doku ""online"" unter: 
.../iteraSpeedMonitor/rest/man"																																																
