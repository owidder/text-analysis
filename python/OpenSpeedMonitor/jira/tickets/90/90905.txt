Fehler bei DB-Upgrade auf Version 5.2	"Sehr geehrte Damen und Herren,



nach dem Update eines unserer Server von Version 3.4.1 auf Version 5.2 erscheinen die Fehler in der Anlage.



Im Frontend erscheint ein Fehler 500"		Fault	iteraplan Support	20/Jul/16 8:43 AM	25/Jul/16 1:55 PM														"20/Jul/16 8:43 AM;christian.deichmueller@huk-coburg.de;

[^int_migration_iteraplan_510_to_520_oracle.log] _(0,9 kB)_

[^logs.zip] _(10 kB)_"	"20/Jul/16 3:03 PM;cst;Sehr geehrte Damen und Herren,

vielen Dank für Ihre Anfrage.

Die Applikation der Version 5.2 kann ohne weiteres installiert werden, die Updates für die Datenbank muss in der korrekten Reihenfolge erfolgen. 
Hier ist zu beachten, das „Jedes“ Datenbankupdate eingespielt werden muss, um die Version 5.2 ordnungsgemäß nutzen zu können. 

Wurde dies bei Ihnen durchgeführt, oder ist das Update 5.05 auf 5.1 nicht korrekt durchgelaufen?
Nach dem die Fehlermeldung bei Ihnen aufgetaucht ist, wurde das Datenbankupdate von Version 5.1 auf 5.2 danach durchgeführt? 

Um den Vorgang weiter analysieren zu können, fehlen uns folgende LOG-Dateien:

- Aus dem conf-Verzeichnis Ihrer Tomcat-Installation:

* server.xml
* web.xml

- Aus [Tomcat]/webapps/[iteraplan Installationsverzeichnis]/WEB-INF: Sämtliche Dateien, deren Name mit applicationContext beginnt.
- Aus [Tomcat]/webapps/[iteraplan Installationsverzeichnis]/WEB-INF/classes:log4j.properties und iteraplan-db.properties
- Aus [Tomcat]/webapps/[iteraplan Installationsverzeichnis]/META-INF:context.xml (Die Datei kann Passwörter enthalten,bitte entfernen oder verfremden)

Viele Grüße,

Christoph Stangl - iteraplan Support 

"	"21/Jul/16 7:36 AM;christian.deichmueller@huk-coburg.de;Hallo Herr Stangl,

das DB-Update ist nun erfolgreich durchgelaufen.
Der Fehler bleibt allerdings derselbe.

Anbei die gewünschten Daten, sowie die aktuellen Logs.

VG

Christian Deichmüller

[^Konfigdateien.zip] _(43 kB)_"	"21/Jul/16 8:55 AM;cst;Hallo Herr Deichmüller,

vielen Dank die Zusendung der Dateien.

Mit dem durchführen der Datenbankupdates, werden sich auch die LOG´s geändert haben.
Sollte dies nicht der Fall sein, liegt hier das Problem an der Datenbank. 

Würden Sie uns bitte die aktuellen LOG-Dateien zukommen lassen, um das weitere vorgehen prüfen zu können. 

Viele Grüße,

Christoph Stangl - iteraplan Support 




"	"21/Jul/16 9:21 AM;christian.deichmueller@huk-coburg.de;Hallo Herr Stangl,

anbei die DB-Logs.

[^DB-Logs.zip] _(7 kB)_"	"21/Jul/16 9:24 AM;christian.deichmueller@huk-coburg.de;Anbei die Tomcat und Iteraplan-Logs.

[^apachelogs.zip] _(10 kB)_"	"21/Jul/16 10:45 AM;cst;Sehr geehrter Herr Deichmüller,

vielen Dank für die Zusendung der LOG´s. 
Wir konnten das Problem analysieren und hier ist die Lösung für das gemeldete Verhalten.

Durch das Updaten von Version 3.4 auf die aktuelle Version 5.2, fehlt der Datenbank der Freischaltcode für Ihr iteraplan. 
Mit der Authentifizierung über LDAP - SSO wird dieser aber vorausgesetzt und führt zu der Fehlermeldung 500. 

Rufen Sie bitte folgende URL auf, um den Lizenz Schlüssel zu hinterlegen.

[Pfad zur iteraplan Instanz]/licensing/update.do
z.B.
http://localhost:8080/iteraplan/licensing/update.do

Nach diesem Schritt, können Sie die Software wie gewohnt aufrufen. 

Viele Grüße,

Christoph Stangl - iterplan Support 
 "	"25/Jul/16 1:53 PM;christian.deichmueller@huk-coburg.de;Hallo Herr Stangl,

der Incident kann geschlossen werden.

VG

Christian Deichmüller"																																															
