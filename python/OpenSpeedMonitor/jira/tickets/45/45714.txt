Error in Cluster Diagram page when attribute values contain single quotes	"When an AttributeType (for example an enumeration) contains values with single quotes, and this AttributeType is selected on the 2nd step of Cluster Diagram configuration page, then page loading causes an error with the stack trace below. Hence the diagram can't be generated anymore.

The problem occurs due to the usage of plain and unfiltered (!) AttributeValues as Map keys for Bean property paths (SPARQL)

See:
{{/jsp/GraphicalReporting/DimensionOptionColor.jsp}}
{{/jsp/GraphicalReporting/DimensionOptionLine.jsp}}

{code}
[ERROR] 13-May-2013 10:01:26 [tags.form.ErrorsTag] EL1046E:(pos 84): Cannot find terminating  for string
org.springframework.expression.spel.SpelParseException: EL1046E:(pos 84): Cannot find terminating  for string
        at org.springframework.expression.spel.standard.Tokenizer.lexQuotedStringLiteral(Tokenizer.java:220)
        at org.springframework.expression.spel.standard.Tokenizer.process(Tokenizer.java:183)
        at org.springframework.expression.spel.standard.Tokenizer.<init>(Tokenizer.java:47)
        at org.springframework.expression.spel.standard.InternalSpelExpressionParser.doParseExpression(InternalSpelExpressionParser.java:110)
        at org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:56)
        at org.springframework.expression.spel.standard.SpelExpressionParser.doParseExpression(SpelExpressionParser.java:1)
        at org.springframework.expression.common.TemplateAwareExpressionParser.parseExpression(TemplateAwareExpressionParser.java:66)
        at org.springframework.binding.expression.spel.SpringELExpressionParser.parseSpelExpression(SpringELExpressionParser.java:81)
        at org.springframework.binding.expression.spel.SpringELExpressionParser.parseExpression(SpringELExpressionParser.java:75)
        at org.springframework.webflow.mvc.view.BindingModel.parseFieldExpression(BindingModel.java:223)
        at org.springframework.webflow.mvc.view.BindingModel.getFormattedValue(BindingModel.java:227)
        at org.springframework.webflow.mvc.view.BindingModel.getFieldValue(BindingModel.java:142)
        at org.springframework.web.servlet.support.BindStatus.<init>(BindStatus.java:120)
        at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:178)
        at org.springframework.web.servlet.tags.form.ErrorsTag.shouldRender(ErrorsTag.java:140)
        at org.springframework.web.servlet.tags.form.AbstractHtmlElementBodyTag.writeTagContent(AbstractHtmlElementBodyTag.java:47)
        at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102)
        at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79)
        at org.apache.jsp.jsp.GraphicalReporting.DimensionOptionColor_jsp._jspService(DimensionOptionColor_jsp.java:253)
        ...
{code}


Replace the plain AttributeValues with safer keys (without special characters!)."		Bug	iteraplan PO	14/May/13 2:42 PM	09/Jul/13 11:08 AM					cluster	diagram	visualization							21/Jun/13 3:55 PM;gph;Doesn't work with all kinds of special characters. For example a "]" in the attribute value still causes an error.	25/Jun/13 10:25 AM;bra;[Changeset 20633|https://iteraplan.iteratec.de/projects/iteraplan/changeset/20633] belongs to ITERAPLAN-1502 (committed against the wrong ticket)	"25/Jun/13 11:00 AM;bra;opening and closing square brackets cause an error too,
${ also causes error"	"25/Jun/13 12:26 PM;bra;additionally escaped square bracket and EL-prefix ${
decided against escaping all EL special-chars because most of them did not cause an error."	04/Jul/13 12:39 PM;svo;In general fine, but escaped characters are escaped twice. This makes no sense.	04/Jul/13 2:29 PM;svo;escaping works and ensures uniqueness of keys. The given characters no longer cause trouble when generating graphics.	"05/Jul/13 3:40 PM;bra;fix for this issue causes the bar/pie chart config to crash if one selects 'use color values from a range' for the coloring of attribute values.
Stacktrace:
{code}05.07.2013 15:34:43 org.apache.catalina.core.ApplicationDispatcher invoke
SCHWERWIEGEND: Servlet.service() for servlet jsp threw exception
org.springframework.core.convert.ConverterNotFoundException: No converter found capable of converting from type de.iteratec.iteraplan.businesslogic.reports.query.options.GraphicalReporting.Dimension.ColorDimensionOptionsBean$NameToColorWrapper to type java.lang.String
	at org.springframework.core.convert.support.GenericConversionService.handleConverterNotFound(GenericConversionService.java:475)
	at org.springframework.core.convert.support.GenericConversionService.convert(GenericConversionService.java:175)
	at org.springframework.expression.spel.support.StandardTypeConverter.convertValue(StandardTypeConverter.java:66)
	at org.springframework.expression.common.ExpressionUtils.convertTypedValue(ExpressionUtils.java:67)
	at org.springframework.expression.spel.standard.SpelExpression.getValue(SpelExpression.java:98)
	at org.springframework.binding.expression.spel.SpringELExpression.getValue(SpringELExpression.java:84)
	at org.springframework.webflow.mvc.view.BindingModel.getFormattedValue(BindingModel.java:232)
	at org.springframework.webflow.mvc.view.BindingModel.getFieldValue(BindingModel.java:142)
	at org.springframework.web.servlet.support.BindStatus.<init>(BindStatus.java:120)
	at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getBindStatus(AbstractDataBoundFormElementTag.java:178)
	at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getPropertyPath(AbstractDataBoundFormElementTag.java:198)
	at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.getName(AbstractDataBoundFormElementTag.java:164)
	at org.springframework.web.servlet.tags.form.AbstractDataBoundFormElementTag.writeDefaultAttributes(AbstractDataBoundFormElementTag.java:127)
	at org.springframework.web.servlet.tags.form.AbstractHtmlElementTag.writeDefaultAttributes(AbstractHtmlElementTag.java:421)
	at org.springframework.web.servlet.tags.form.InputTag.writeTagContent(InputTag.java:142)
	at org.springframework.web.servlet.tags.form.AbstractFormTag.doStartTagInternal(AbstractFormTag.java:102)
	at org.springframework.web.servlet.tags.RequestContextAwareTag.doStartTag(RequestContextAwareTag.java:79)
	at org.apache.jsp.jsp.common.ColorPicker_jsp._jspx_meth_form_005finput_005f0(ColorPicker_jsp.java:271)
{code}"	05/Jul/13 3:49 PM;bra;not only bar/pie chart configuration is broken for 'use color values from a range', but all others too	"09/Jul/13 11:08 AM;lba;Looks good,i can now create Cluster Diagramms with the selected attributetype that contains the 'special' chracters. 
Personally i don't recommend the usage of these special characters in AttributeType-names, it might cause trouble in the Query Console."																																														
