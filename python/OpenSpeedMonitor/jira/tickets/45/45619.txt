Work around Tomcat 7 incompatibilities	"iteraplan 3.0.4 cannot be deployed on Tomcat 7 out of the box. There may be more compatibility issues with Tomcat 7, pls add them as needed.

h5.* DWR + cookies:

One known reason is that the used DWR 2.x version relies on cookie access from JS, which is disallowed by Tomcat 7 by default. DWR 3.0 would fix the issue, or configuring Tomcat to behave as Tomcat 6 with respect to cookie handling.

Add the useHttpOnly attribute to context.xml:
{code}
<Context useHttpOnly=""false"">
</Context>
{code}

This restores the behavior of Tomcat 5/6, but disables the improved Cross-site Scripting (XSS) Prevention in Apache Tomcat 7!
See:
http://www.tomcatexpert.com/blog/2011/01/26/cross-site-scripting-xss-prevention-tomcat-7
Check compatibility with Tomcat 6 and 7!


h5.* Java identifiers in JSP EL:

Another issue is the use of identifiers in JSP ExpressionLanguage like for example ""class"" in ""${memBean.class.name == ..."".

There is a flag called ""org.apache.el.parser.SKIP_IDENTIFIER_CHECK"" which is set to true in Tomcat 6 but set to false in Tomcat 7. This causes a JasperException on deploy/startup. Setting this flag (= a Tomcat start property) to ""true"" can be a workaround:
-Dorg.apache.el.parser.SKIP_IDENTIFIER_CHECK=true
but on a long term view it is better to replace critical expressions in the JSPs.

Access to Getters in JSP ExpressionLanguage can be written like this:  memBean['class'].name
instead of:  memBean.class.name
This notation doesn't cause troubles with the (Java)identifier check.
"		Improvement	iteraplan PO	25/Feb/13 5:30 PM	16/Apr/13 11:36 AM					3.0.5-candidate									"20/Mar/13 4:59 PM;sry;Just found this official migration documentation, maybe it contains helpful information.
http://tomcat.apache.org/migration-7.html"	"16/Apr/13 11:36 AM;sfe;I was able to install iteraplan (ith the ant-installer) on a tomcat 7 without any special configuration aside from the https connector (see Tomcat configuration [here|https://iteraweb.iteratec.de/confluence/display/iwiki/Developer+Guide+for+3.x#DeveloperGuidefor3.x-Tomcat]).

On startup of tomcat 7, the following message is shown:

{quote}
INFO: At least one JAR was scanned for TLDs yet contained no TLDs. Enable debug logging for this logger for a complete list of JARs that were scanned but no TLDs were found in them. Skipping unneeded JARs during scanning can improve startup time and JSP compilation time.
{quote}

Maybe this could be improved?

Else everything seems to work fine."	"16/Apr/13 3:47 PM;gph;From a forum:
??This happens because you reference one or more taglibs that can't be found in your war file. If you copy all taglibs that you use into /META-INF, Tomcat won't scan all the jars for the tlds.??

According to this hint, we'd have to copy all references taglib definitions to /META-INF in order to avoid scanning of JARs:

* iteratec/WebContent/WEB-INF/tlds
* jstl/META-INF/c.tld
* jstl/META-INF/fmt.tld
* jstl/META-INF/fn.tld
* jawr/META-INF/jawr*.tld
* tiles-jsp/META-INF/tld/tiles-jsp.tld
* spring-webmvc/META-INF/spring.tld
* spring-webmvc/META-INF/spring-form.tld
"	17/Apr/13 1:48 PM;sry;No, we shouldn't extract some file from 3rd party JARs. I see no issue with that warning, and start-up time is not that much of an issue.																																																			
