Custom dashboard mixes the amount of selected building blocks	"When using a custom dashboard a diagram can display information about the number of building blocks from up to three sources.

Example information systems / pie chart (see attached image)
# ""View selected IS"": number of BBs from the query used for the custom dashboard, excluding BBs added via ""rework query""
# ""Heading"": number of BBs from the query used for the visualization which is used for the custom dashboard query
# ""Content"": number of BBs from the query used for the custom dashboard, including BBs added via ""rework query""

Example information systems / bar chart (see attached image)
# ""Content"": percentages are calculated incorrectly"		Bug	iteraplan PO	25/Jul/13 1:56 PM	19/Sep/13 6:34 PM					dashboard									01/Aug/13 8:45 AM;sfe;seems fine	08/Aug/13 2:06 PM;dne;added "bar chart problem"	19/Sep/13 3:19 PM;sry;Tickets should only be formally tested and fix-closed by dev team members. Thanks for your enthusiasm, Daniel, but sorry...	19/Sep/13 6:32 PM;sry;I don't see yet how the percentages on the bar chart attachment are incorrect. Note however that they are calculated in relation to the overall number of Information Systems (in your example 753), not to the sum of number next to the bars.	19/Sep/13 6:34 PM;sry;Looks good from my point of view	20/Sep/13 10:39 AM;dne;Yep, is fine the way it is. That's why I closed it after I had re-opened it more than a month ago ;)	"17/Oct/13 2:15 PM;psc;Reviewed. 

After having a brief discussion with Michael Rempter, please find below a short description of what behavior is regarded acceptable:
* Number in left upper corner of a visualization should be sum of relevant objects in context, meaning:
** If visualization is displayed on it's own, number of selected elements according to visualization's filter
** If visualization is displayed in context of a dashboard and relevant elements are those specified with the dashboard, the sum of all elements specified by the overwriting selection is relevant
* Pie-Charts: 
** Percentages should be calculated dividing absolute number for section by number of relevant elements according to left upper corner of visualization
* Bar-Charts:
** Percentages next to values on vertical list should be calculated dividing related absolute number by the sum of all elements relevant for the visualization in this context (see left upper corner). It is important that bar-charts do not necessarily show partitions. There can be relevant elements counted for no displayed bar and there can be relevant elements counted for more than one bar.
** Percentages on the actual bars are calculated dividing related absolute number by the sum of elements regarded in the respective row.

Review results:
* In 3.1 ... 
** ... the sum of relevant elements in the left upper corner of a visualization concerns the elements specified creating the visualization itself, no matter if the visualization is shown in a different context within a dashboard
** ... the percentages for sections in bar-charts are calculated dividing by the sum of elements from the visualization's query, not the sum of elements relevant in the dashboards context

Both issues are corrected in the current nightly.

Solution works. Ticket will be closed."																																																
