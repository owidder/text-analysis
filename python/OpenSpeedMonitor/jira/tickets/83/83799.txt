Partial Diagram	"*Summary:*

Include the functionality of a partial diagram



*As-Is:*

* If too many elements are in the diagram, GoJS will not render it.



*To-Be:*

* Only the first X elements are rendered by GoJS. All other elements are not shown.

* A warning is displayed.



*Implementation Details:*

* Create 2000 Dummy Information Systems with the runTimePeriod set with the help of the excel Import for testing purposes.

* They are already counted in the mpdDataService. The mpdDataService stops after a hard-coded limit X.

* Test the limit X for Chrome, Firefox and especially for Internet Explorer. Stay in contact with [~msr] to determine the best limit.

* We just limit the number of rows. Stick with the simplest solution.

* No post-loading when the user scrolls, no paging, ...



*UI:*

* Use the same warning like in the Information Flow Diagram."		New Feature	iteraplan Speedbird	10/May/16 3:09 PM	26/Aug/16 3:52 PM														12/May/16 1:38 PM;roia;Attached MPD Performance investigation.xls -- investigation of performance on my PC.	"12/May/16 3:02 PM;dmkh;After additional performance testing (pipeline run time), me and [~roia] investigated that suitable limit of elements can be extended to 1000 so the diagram render time will be ~5 seconds for worth result in all supported browsers. 



There left one problem with initial download of mpd page when average load time takes much more time then diagram render process. This may be due to loading of all elements in DataService."	"17/May/16 6:16 PM;abo;*Review-Comments:*

* When I browse to the new client's index and then to the MPD I get an error in Chrome's JS Console, see below.

* Please don't commit commented code, as at the bottom of {{mpdItemBuilder.js}}

* Please use the plural for variable names holding arrays/lists, e.g. _relatedBusinessObject_ in {{mpdItemBuilder.js}}, line 40.

* The JSDoc for the _fullDownload_ param in {{mpdItemBuilder.js}} does not describe its intent - should be something like ""If true, item limitations are ignored and the the complete list will be returned. Otherwise items are limited to the the value defined in constants.js"".

* _items_ in {{mpdItemBuilder.js}} should pushed down on the same level as _partial_.

* _dataPArameters_ and _additionalCplumns_ in {{mpdItemBuilder.js}} could be inlined, because they are short and only used once.

* The 3 level-handling in {{mpdItemBuilder.js}} is hard to read and contains some code-duplication. Can you refactor it to make level 2,3,... be checked in a loop that calls a method, which basically does what is within the 3rd-level if-body?

* only checking the length of the array to deduce permission information in {{mpdDataService.js}} seems odd, please verify and at least document why this is sufficient. And please document the param type properly (Object is to broad).

* The function _createGoJsDiagram_ in {{mpdContentControler.js}} seems like a hack - why is it necessary?









Error in JS Console of Chrome:



{noformat}

angular.js:13424 TypeError: An exception occured: Cannot read property 'replace' of undefined (caused by ""<div ng-view="""" class=""ng-scope"" data-ng-animate=""1"">"")

    at paramsToObject (utils.js:306)

    at readUrlAsObject (queryProcessor.js:106)

    at mpdConfiguration.js:81

    at new MpdConfiguration (mpdConfiguration.js:86)

    at new <anonymous> (mpdController.js:46)

    at Object.instantiate (angular.js:4640)

    at $controller (angular.js:10042)

    at link (angular-route.js:1007)

    at invokeLinkFn (angular.js:9623)

    at nodeLinkFn (angular.js:9022)(anonymous function) @ angular.js:13424

{noformat}







snipped of _createGoJsDiagram()_:

{code}

this.createGoJSDiagram = function () {

	getMpdCtrl().setIsDrawing(true);

	window.setTimeout(function () {

		mpd.createGoJSDiagram(false);

		getMpdCtrl().setPartial(mpd.isPartial());

		getMpdCtrl().setIsDrawing(false);

	}, 100);

};

{code}"	"20/May/16 2:49 PM;dmkh; I think there is no need to create another method for 3-level handling of _if loop_ in {{mpdItemBuilder.js}}, because there will no more levels supported in Masterplan diagram.

As for {{createGoJsDiagram}} function, it was added from ifd as a blueprint with some modifications. If there still some notes left for it, please describe them with line number mentions.



Thank you!"																																																			
