Plugins only get outdated model	"Currently, the Elastic Model clone we put into the Plugin Javascript Context does not contain the changes which triggered the Plugins to begin with.

This can lead to various issues due to Plugins having to make decisions based on outdated data.

The reason is that the continuous Elastic Update only triggers after the Plugins are triggered, with good reason as the Elastic Model should only be updated when a Transaction is successful and the update should also contain changes made by the Plugins.



The solution:

# The Elastic Update updates a Model clone as ""preview"" of the changes before the plugins are triggered.

# The plugins get that preview model as basis for their decisions and changes

# After the plugins applied their changes to the model, the transaction can commit either successfully, then the Elastic Update updates the Context Model. Or the transaction is rolled back, the Context Model remains unchanged, and the changes the Plugins caused will be rolled back as well, as they happened in the same transaction."		Bug	iteraplan Thunderduck	17/Aug/16 5:46 PM	19/Aug/16 10:49 AM																																																																				
