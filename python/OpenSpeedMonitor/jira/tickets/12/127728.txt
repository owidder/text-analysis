NullpointerException beim Serverstart	"Installation mit Upgrade der Datenbank von Version 5.4 auf 6



catalina.out ist angehängt. Anwendung nicht aufrufbar."		Fault	iteraplan Support	21/Jul/17 1:57 PM															"21/Jul/17 1:57 PM;joerg_rausch@gothaer-systems.de;

[^catalina.out] _(12 kB)_"	"21/Jul/17 2:29 PM;cst;Sehr geehrter Herr Rausch,

vielen Dank für Ihre Anfrage.

Wurde nach dem Sie die Upgrade-Schritte durchgeführt haben das Work-Verzeichnis des Tomcats und das Index-Verzeichnis der vorangegangen Installation geleert? 
Würden Sie mir bitte zusätzlich die iteraplan.log-Dateien der Version 6.0 zukommen lassen. 

Viele Grüße,

Christoph Stangl - iteraplan Support"	"21/Jul/17 4:35 PM;joerg_rausch@gothaer-systems.de;Hallo Herr Stangl.

Ich hatte alles geleert.
Was seltsam ist, ist die Meldung 
""SEVERE: Unable to create directory for deployment: /opt/tomcat7-base/servers/iteraplanServer/etc/tomcat7/Catalina/tx1sv172.tcbiz3x.tcdsroot.de"" beim Start.

Ich hatte die Meldung durch Anlegen eines symbolischen Links auf das ""work""-dir unterdrücken können. Die NullpointerException trat trotzdem auf.
Das hört sich eher nach einem Tomcat-Problem an, aber bei Iteraplan 5 wurde Das Catalina-Verzeichnis nur in ""work"" angelegt/gesucht und nicht in ""etc""
Das Verzeichnis wird aber auch mit iteraplan 6 in ""work"" angelegt.

Das iteraplan.log hilft vermutlich auch nicht weiter.

Viele Grüße

Jörg Rausch


[^iteraplan-5.4.0.log] _(5 kB)_"	"25/Jul/17 9:05 AM;joerg_rausch@gothaer-systems.de;Hallo Support,
ist meine Antwort vor dem Wochenende untergegangen?
Ich würde Iteraplan 6 gerne vor meinem Urlaub im Test bereitstellen.

Falls Sie weitere Informationen zur Fehlersuche benötigen, kann ich diese nur heute und am Freitag liefern.

Viele Grüße

Jörg Rausch"	"25/Jul/17 9:13 AM;msr;Sehr geehrter Herr Rausch,



die Nullpointer-Excpetion ""java.io.Reader.<init>(Reader.java:78)"" deutet auf ein Rechte-Problem hin. Könnten Sie bitte die Rechtestruktur auf Ihrem Server prüfen? Hat der Tomcat-Benutzer für alle benötigten Verzeichnis die richtigen Rechte?



Bitte geben Sie uns Rückmeldung zu der Rechtestruktur.



Mit freundlichen Grüßen





Marcel Schrumpf"	"25/Jul/17 9:56 AM;joerg_rausch@gothaer-systems.de;Hallo Herr Schrumpf,
das ist auch meine Vermutung. Der Laufzeit-User von Tomcat hat im Webapps-Verzeichnis nur Leserechte. Diese Systemvorgabe ist bei uns derzeit leider nicht änderbar.
Welche Dateien müssen beim ersten Start geschrieben werden? Lohnt es sich, dem User vorübergehend Schreibzugriff auf das webapps-Verzeichnis zu geben? In Produktion würde das zu Problemen führen...
Ein Listing der Berechtigungen habe ich angehängt.

tutomt06 ist der run-User und tutoct06 ist der deploy-User.


[^iteraplanrechte] _(38 kB)_"	"25/Jul/17 4:18 PM;joerg_rausch@gothaer-systems.de;Der Fehler kommt ja direkt aus folgender Code-Zeile. Wenn sie mir verraten, was da gesucht wird, kann ich prüfen. 

de.iteratec.iteraplan.businesslogic.service.scriptContainer.ScriptServiceImpl.discover(ScriptServiceImpl.java:61)"																																																
