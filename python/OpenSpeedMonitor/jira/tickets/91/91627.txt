Exception after refreshing the page	An exception occurs after refreshing the page for LSD diagram in Firefox.		Bug	iteraplan Speedbird	26/Jul/16 1:45 PM	01/Aug/16 12:05 PM														"27/Jul/16 2:31 PM;roia;Idea. Probably, wrong:

http://stackoverflow.com/questions/33180437/understanding-how-directive-priority-level-work-in-angularjs



http://stackoverflow.com/questions/19270392/what-is-priority-of-ng-repeat-directive-can-you-change-it"	"28/Jul/16 2:48 PM;dmkh;After investigating page loading in Mozilla I may assume that template for toolarea is loaded in the and of page load cycle (because it is cached?). So toolarea directive ({{toolAreaDirective.js}}) links its controllers too late and commonHeaderController deals with null for {{toolAreaCtrl}} object (lines 76, 83, 87 in {{commonHeaderController.js}}). 



To fix this I surrounded methods (for initial drawing of diagram and building toolarea) with {{angular.element(document).ready()}}(this approach is used in other diagrams, but not in LSD) and to ensure - added timeout for toolarea build code.



Also tried the idea of [~roia] but priorities did not help."																																																					
